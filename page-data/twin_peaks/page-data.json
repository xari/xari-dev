{
    "componentChunkName": "component---src-templates-blog-post-js",
    "path": "/twin_peaks/",
    "result": {"data":{"site":{"siteMetadata":{"title":"Ideas in Development"}},"mdx":{"id":"419485e3-c85a-528b-992d-917a8491aad1","excerpt":"Being an employee of the EPFL Extension School has it’s perks. For the past month, I’ve been following one of our courses,  “50 Things\nYou Need to Know About…","body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Scraping web data with R & the Tidyverse\",\n  \"date\": \"2019-04-16T00:00:00.000Z\",\n  \"description\": \"Data wrangling with the Tidyverse\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"Being an employee of the EPFL Extension School has it\\u2019s perks.\"), mdx(\"p\", null, \"For the past month, I\\u2019ve been following one of our courses, \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://exts.epfl.ch/courses-programs/50-things-you-need-to-know-about-data\"\n  }, \"\\u201C50 Things\\nYou Need to Know About\\nData\\u201D\"), \",\\nan introductory course designed to teach the basics of the tools and\\ntechnologies needed to work with data in the digital age.\"), mdx(\"p\", null, \"Specifically, the course teaches how to store, structure, clean,\\nvisualize, and analyze data using the R programming language \\u2014and it\\nprovides a broad survey of topics like machine learning, data privacy,\\nand other topics as well. Having finally made my way through the\\ntechnical portion of the course, I thought that writing a data article\\nabout my favorite show, Twin Peaks, would be the perfect opportunity to\\nput \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"some\"), \" of what I learned in the course to the test.\"), mdx(\"p\", null, \"Before we begin, I want to properly represent my technical background.\\nAs a course developer for the Extension School, I create courses about\\nprogramming for web applications. My area of expertise is the JavaScript\\nprogramming language, and it\\u2019s been several years since I worked as a\\nbusiness analyst using MS Excel spreadsheet software. A month ago I\\nwrote my first line of R code, and this course is the only instruction\\nthat I pursued to learn R. But I do happen to share an office with the\\ncreator of the course, Xavier, whose time and enthusiasm I owe to much\\nof my progress.\"), mdx(\"p\", null, \"But despite my more advanced technical background, this course \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"is\"), \" for\\nbeginners. If you\\u2019ve worked with basic spreadsheets before, you\\u2019ll find\\nthe material \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"very\"), \" approachable. And sure; it helped to have Xavier\\nsitting at a desk across the room from me, but if you take the course\\nyou\\u2019ll get to chat with him for a half-hour each week about any course\\ntopic that you\\u2019d like to discuss.\"), mdx(\"p\", null, \"This article won\\u2019t showcase \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"all\"), \" of what I learned in the course. The\\ncourse teaches how to work with data from many different sources,\\nincluding databases, \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \".csv\"), \" files, MS Excel spreadsheets, Rest APIs, and\\nmore. The course also takes-on a more corporate focus in its choice of\\ndata. For example; AirBnB rentals for the entire state of Texas is one\\nof the data sources that you get to play-around with if you take the\\ncourse.\"), mdx(\"p\", null, \"But I\\u2019m a web guy, so this article focuses on a particularly crafty data\\nsource: web scraping.\"), mdx(\"hr\", null), mdx(\"p\", null, \"You remember Twin Peaks, don\\u2019t you? The show about owls, cherry pie,\\ndeep black coffee, and the murder-mystery of Laura Palmer?\"), mdx(\"p\", null, mdx(\"img\", {\n    parentName: \"p\",\n    \"src\": \"/9ef0c82905fd4fba11cd85fa7c69ca54/cooper.gif\",\n    \"alt\": \"Damn fine coffee\"\n  })), mdx(\"p\", null, \"This show is a favorite of mine, and I think that if you ever make the\\ntime to watch it, you\\u2019ll enjoy it too.\"), mdx(\"p\", null, \"But don\\u2019t take it from me. Take it from IMDB, the Internet Movie\\nDatabase, where the lowest rating for any episode of the original series\\nwas 7.5 out-of 10.\"), mdx(\"p\", null, \"If you spend-enough time around me, you\\u2019re bound to get bitten by the\\nTwin Peaks bug too, and this year I finally managed to convince my\\ncolleague to watch the show too. As the creator of the course, he was\\naware of my progress, and challenged me to put my skills to the test by\\ncreating a couple of charts about the show. Here\\u2019s how the conversation\\nwent:\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"672px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/bfdff906917d68af648679f6865081e7/6c745/broad_city_post.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"34.523809523809526%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABY0lEQVQoz1WQzU7CUBCFeQsTVyoUChYI5c8UChRawNJ/WtoCRdOdiW9gXBu3PoZbNz6CCxMf6Zi5LQYXX87MubnnztzC2Esg2Qnqqo+a4qIytsHnlEcWONnMoJq8E8gj5RUXvOKwvtDUfLStPbrre7SsPVp2AtFJILoHCHoE/jZEVY9Qmbooj/4HVvLQM3GG847GvEJxaIBfBLjWI3CqB07zUFJ9lMY2o0xBRH75CPVF2URdC/D0+obH5xcUhyYKnGxBsHaQkgf0ohT9KIW0TSEuQ7T1GM15gIYWoHGizcWG1YK6huQc8PX9g/ePT1xIejZhdR5AXIRoL0OIywiK46G7itG39qhrPmpTD7WZx5R6CqUw8qr07xMH/MTJVm4ZOwjzgK1Rkk22xuXAAj10NTSYl5GdUxBNTeHUn34FC+w7MQabFLJ7hxsrQc/YoW/u0DW2fzUpQV5nFTO6uXdcXVB9pr+kL/r4vIFQ9QAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Broad City Post\",\n    \"title\": \"Broad City Post\",\n    \"src\": \"/static/bfdff906917d68af648679f6865081e7/30d16/broad_city_post.png\",\n    \"srcSet\": [\"/static/bfdff906917d68af648679f6865081e7/9d904/broad_city_post.png 168w\", \"/static/bfdff906917d68af648679f6865081e7/d99f2/broad_city_post.png 336w\", \"/static/bfdff906917d68af648679f6865081e7/30d16/broad_city_post.png 672w\", \"/static/bfdff906917d68af648679f6865081e7/6c745/broad_city_post.png 893w\"],\n    \"sizes\": \"(max-width: 672px) 100vw, 672px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"Twin Peaks, for those of you who don\\u2019t know, is an all-time classic that\\noriginally aired from 1989 until 1991. Most critics see Twin Peaks as a\\nshow that was ahead of it\\u2019s time; pioneering a genre that would later\\nbring viewers Breaking Bad, Stranger Things, another other modern\\nfavorites.\"), mdx(\"p\", null, \"In \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://twitter.com/katiesegreti/status/1111729535266013184\"\n  }, \"the\\ntweet\"), \",\\n\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"http://data-chips.com/\"\n  }, \"Katie Segretti\"), \" shares two charts that she made\\nabout one of her favorite shows; Broad City.\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"598px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/a131d59d83c7abcc32173cb58a29f740/0c69d/broad_city.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"111.30952380952381%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAAACXBIWXMAAAsTAAALEwEAmpwYAAAD/klEQVQ4y42V244bRRCGzR0ILnkO3oRX4Rm4DUgghMRlJKKICx4AxIKSkIXdeH1ar+3x+bj2zHg8npme88HjD3XbWSUhQpT0q6pHrb+r+q+prhyPJXt7S5omJEmifJ4XeIFLnIVIOx6P70Velg+Qa2mVbrvBd19+QbV6zVW1znW1Rq3eZDQbIGLnRMhp85tWHMHNCnpuhMgP5IeSsiypOLZN7a/nuJ6HCCJczycvCs5MFEWhNkqf5zmHw0HFaZYRZTlekhJmOcXhoLKsOK5Lu9OjWr2h3W7TarXo9no0Wy3qjQadTpfbdpt+f0Cj2eL2to2m9Wk2Wwp3d1263R7T6fRUsrnd0r7rMByN6A+G9LQ+Wn/AfLFQ3yWRJBiPJ8xmM4V6vaEOHY7GNG4uqdVq6LpxInQdh+V8htbp0Go0GGkas/GYgaah9TSV0Wg05qZWo9fTGAyHjCcT6vUmk/GITeMR8X6oblkKXDHDhIYluJwbNPQ9fy5MXhkuNcNh5fjkaUIUxURhRJZlqhPkHYZhpHySCinRg1iVKMuYmRbT7Y7ldoemW2ibLTPDYud6lAepYEGQhAhP4Ps+QgiiKFKx7wdEcUKWpUqwShgErOYzVos5i9kUS9+wM3RMXWdrmLjCw9s66J0lhq6zWW9Yr9dYlqWw3Zo4joPneaqCimyRIAgIw1AhkAiCk/cD3MSHscPjpzU+m15iCo8kjPDlnjNeZ30mzPGDENfZ4TqWKiFQpfiqRCf2YeLy1ZMrPuj9yr2zJ/Z9PCEUicRbhGmccj+eY+oz9rsVi/WClWmzNEx8IfCyiGK445snV3zSv2DtOMR+oAj988FvETrWHq3dwzRXinR5v2S+1hlOpljGhrW5pOjqfPu0ykfab6zfyfBfhEmaYDt7bHuHaayJwpCNucXe71kvpkxXE9Kuwdc//s3HMkPXJfIDHE+cVFfKewjxWpQ8f+OkQMXyd5TrvW3jJgHHoc2jxy/5cHDB/d6iCAVlHOLnASKJESJH+CFZXpwIpeSnC/YeLlodIs6iTB2+/6nKp/3niO3nzNY/8HM/xH6xwu8O8YMbxHZOFgdUZLdHUXhGRBxFqn1khqolAp9IBOimTXdnIvZNZsaIl9MtdtvEm85x3Q6edU8ah6c+3LtCtY70ErLz/4/J/7eUKE9eriuZLNkP8MMIT/iIICSMInaWhW3bGOslpn6P1u9hGDqb1YTJbEGcHuQ04Fge1VB4PcUrSZqydz2VmRTD80Nc1+Xm1TWj4ZC72jXXl8+4+OMXbhsNqpcX/P7iip2bqizL8u1noXI4lA8TOi8OavJKS7OcrDj8d8nveWcqaryfx3dRHJAHoOLi4fuxPL0X78bvs38A2Gtv/fzI5p4AAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Broad City Tweet\",\n    \"title\": \"Broad City Tweet\",\n    \"src\": \"/static/a131d59d83c7abcc32173cb58a29f740/0c69d/broad_city.png\",\n    \"srcSet\": [\"/static/a131d59d83c7abcc32173cb58a29f740/9d904/broad_city.png 168w\", \"/static/a131d59d83c7abcc32173cb58a29f740/d99f2/broad_city.png 336w\", \"/static/a131d59d83c7abcc32173cb58a29f740/0c69d/broad_city.png 598w\"],\n    \"sizes\": \"(max-width: 598px) 100vw, 598px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"A close-up of the first chart shows the popularity of each episode\\nplotted for all five seasons of Broad City. A similar chart about the\\npopularity of each episode of Twin Peaks would require the title of each\\nepisode, and its IMDB rating too. So my challenge was simple: find the\\nsame IMDB data about Twin Peaks, and use my knowledge of R create the\\ntwo visualizations.\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"672px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/d1563c10d44494b60fac9e79ec7572f1/ea64c/broad_city_chart.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"71.42857142857143%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB4ElEQVQ4y5VTy3KjMBDk/78qh72s95CKbVjM0wYJoRcSCO+1UxKGxa7kkMOUZpDo6VG3Is45jscj8jxHHMdI0xTn8xmn0ynkeZbh43hEURQoyxKHwwHDMMA5h3EcQ0zTFMLnkd+klKKua3RdB8YYCCGoqirUWmsIIdB1DMaYEEopSCk3IJ/7cz6P/Kbv5gu/zvP8VK/5nom1NsTKcF9H+8PPI3w90lP90igA+hH23aZ5hlYdtGoWltMK8tx0BXIvjRbA0cLdHUY7wkoLKRtoraBkg04IuMnBWAs1mE2M6TGqHPR2PZyLZeTJTtCtAE0aXOMEhCYQvAFtE8TlBSnhKG4tfv8tMI8G47TcrR1HMMGhjQHXKogXDcag+nNB/PaO0693ENKgZwQ9o2DdFYRSnPMqdI/TDGWewtkBsqfo2yqwY5wjyTL0HtDT9pa5NTeUVQUpOYRgoOQCzgnu8z9Y35SyYI1bXaMpU9RZgjLP0LIORdOgul4fDHsF1QrM9xlmGDAMJhhXKQ1jLGbn0EkdRr57wbRGlaUg7Q1uvgezF2UV/gkqc96DC7FJv6g5bvnqs6DkQ9HF1ItnSUvgX9v/l6L15vK9JTYrfOPDdfUu2X+LvgL5SbwSCW/Zj/Qdw5/GJ+PLHVQ1f0JNAAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Broad City Episodes ranked by IMDB\",\n    \"title\": \"Broad City Episodes ranked by IMDB\",\n    \"src\": \"/static/d1563c10d44494b60fac9e79ec7572f1/30d16/broad_city_chart.png\",\n    \"srcSet\": [\"/static/d1563c10d44494b60fac9e79ec7572f1/9d904/broad_city_chart.png 168w\", \"/static/d1563c10d44494b60fac9e79ec7572f1/d99f2/broad_city_chart.png 336w\", \"/static/d1563c10d44494b60fac9e79ec7572f1/30d16/broad_city_chart.png 672w\", \"/static/d1563c10d44494b60fac9e79ec7572f1/d6a46/broad_city_chart.png 1008w\", \"/static/d1563c10d44494b60fac9e79ec7572f1/ea64c/broad_city_chart.png 1116w\"],\n    \"sizes\": \"(max-width: 672px) 100vw, 672px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"Since IMDB doesn\\u2019t have a public API or database that we can query to\\nget the information that we need, we\\u2019ll have to scrape it using R.\\nScraping is the process of extracting targeted data from HTML pages, so\\nthat we can use that data in our work. This is one of several ways to\\nsource data that is taught in the course, and we\\u2019ll use the scraped data\\nto plot visualizations like the one above.\"), mdx(\"p\", null, \"We\\u2019ll begin with the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://twinpeaks.fandom.com/wiki/\"\n  }, \"Twin Peaks\\nWiki\"), \". Notice the blue and yellow\\nboxes in the image below, which indicate some of the elements to be\\nscraped. The Wiki doesn\\u2019t include the IMDB rating, but it does include\\nother information which will be necessary to create the charts.\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"672px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/3c7dcf2130ec3157997c68efdb90fec4/5ef17/twin_peaks_wiki.jpg\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"36.904761904761905%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAHABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAECBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHFkKCP/8QAFhABAQEAAAAAAAAAAAAAAAAAAREA/9oACAEBAAEFAqZCXf/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABgQAAIDAAAAAAAAAAAAAAAAAAACEBEh/9oACAEBAAY/AtLWP//EABgQAQADAQAAAAAAAAAAAAAAAAEAEUEx/9oACAEBAAE/IS3tNCJVwGMWz//aAAwDAQACAAMAAAAQh/8A/8QAFhEBAQEAAAAAAAAAAAAAAAAAAREQ/9oACAEDAQE/EALc/8QAFxEBAAMAAAAAAAAAAAAAAAAAARARIf/aAAgBAgEBPxBcqP/EABoQAQEBAAMBAAAAAAAAAAAAAAERACFxgZH/2gAIAQEAAT8QgxLyIvrcECkoL9mSqt73/9k=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Twin Peaks Wiki\",\n    \"title\": \"Twin Peaks Wiki\",\n    \"src\": \"/static/3c7dcf2130ec3157997c68efdb90fec4/e9f84/twin_peaks_wiki.jpg\",\n    \"srcSet\": [\"/static/3c7dcf2130ec3157997c68efdb90fec4/f697d/twin_peaks_wiki.jpg 168w\", \"/static/3c7dcf2130ec3157997c68efdb90fec4/ba49c/twin_peaks_wiki.jpg 336w\", \"/static/3c7dcf2130ec3157997c68efdb90fec4/e9f84/twin_peaks_wiki.jpg 672w\", \"/static/3c7dcf2130ec3157997c68efdb90fec4/8a8a2/twin_peaks_wiki.jpg 1008w\", \"/static/3c7dcf2130ec3157997c68efdb90fec4/5ef17/twin_peaks_wiki.jpg 1152w\"],\n    \"sizes\": \"(max-width: 672px) 100vw, 672px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"Using the Web Inspector tool in Firefox, we can view each of these\\nelements as HTML. This helps us to understand the order of these\\nelements inside the HTML document \\u2014information which will be used to\\nscrape more precisely and efficiently. Below you can see that the node\\nof the HTML document that contains the name of the director of episode\\n9, David Lynch, is contained within a list-item with the class\\n\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"pi-data-value\"), \".\"), mdx(\"p\", null, mdx(\"img\", {\n    parentName: \"p\",\n    \"src\": \"/600509cc2e054032b55107c07d381ced/twin_peaks_wiki_demo.gif\",\n    \"alt\": \"Twin Peaks Wiki HTML Nodes\"\n  })), mdx(\"p\", null, \"Using R to scrape the director for episode 9 is quick work. In fact; it\\nonly takes a few lines of code. Remember that the director\\u2019s name is\\ncontained within an \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"li\"), \" tag that has the class \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"pi-data-value\"), \". The\\nscript below uses this selector to determine which node of text to\\nscrape from the page. In this case, the director\\u2019s name is contained\\nwithin an \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"li\"), \" with the class \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"pi-data-value\"), \", which itself is nested\\ninside of a \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"div\"), \" with a \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"data-source\"), \" attribute of\\n\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"'Director'\"), \".\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"r\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-r\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-r\"\n  }, \"library\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"tidyverse\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\")))), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"text\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-text\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-text\"\n  }, \"## \\u2500\\u2500 Attaching packages \\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500 tidyverse 1.2.1 \\u2500\\u2500\\n\\n## \\u2714 ggplot2 3.1.1       \\u2714 purrr   0.3.2\\n## \\u2714 tibble  2.1.1       \\u2714 dplyr   0.8.0.1\\n## \\u2714 tidyr   0.8.3       \\u2714 stringr 1.4.0\\n## \\u2714 readr   1.3.1       \\u2714 forcats 0.4.0\\n\\n## \\u2500\\u2500 Conflicts \\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500 tidyverse_conflicts() \\u2500\\u2500\\n## \\u2716 dplyr::filter() masks stats::filter()\\n## \\u2716 dplyr::lag()    masks stats::lag()\"))), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"r\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-r\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-r\"\n  }, \"library\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"rvest\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\")))), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"text\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-text\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-text\"\n  }, \"## Loading required package: xml2\\n\\n##\\n## Attaching package: 'rvest'\\n\\n## The following object is masked from 'package:purrr':\\n##\\n##     pluck\\n\\n## The following object is masked from 'package:readr':\\n##\\n##     guess_encoding\"))), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"r\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-r\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-r\"\n  }, \"library\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"xml2\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\nlibrary\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"rvest\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\n\\nread_html\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"https://twinpeaks.fandom.com/wiki/Episode_9\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token percent-operator operator\"\n  }, \"%>%\"), \"\\n  html_node\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"[data-source='Director'] .pi-data-value\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token percent-operator operator\"\n  }, \"%>%\"), \"\\n  html_text\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\")))), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"text\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-text\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-text\"\n  }, \"## [1] \\\"David Lynch\\\"\"))), mdx(\"p\", null, \"Notice that here, we\\u2019re not passing an argument to the \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"read_html\"), \"\\nfunction. That\\u2019s because any function call that follows the \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"%>%\"), \"\\noperator receives the returned value of the previous function as it\\u2019s\\nfirst parameter.\"), mdx(\"p\", null, \"The title of that episode can be scraped the same way, using a slightly\\ndifferent selector that targets the title instead of the director.\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"r\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-r\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-r\"\n  }, \"read_html\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"https://twinpeaks.fandom.com/wiki/Episode_9\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token percent-operator operator\"\n  }, \"%>%\"), \"\\n  html_node\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"[data-source='Series name'] + section .pi-data-value\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token percent-operator operator\"\n  }, \"%>%\"), \"\\n  html_text\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\")))), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"text\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-text\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-text\"\n  }, \"## [1] \\\"or: Coma\\\"\"))), mdx(\"p\", null, \"This episode was originally titled \\u201CEpisode 9\\u201D, which is why the text\\nabove has the word \\u201Cor\\u201D in it. We don\\u2019t need to include that word in our\\nvisualization though, so let\\u2019s take it out using one additional\\nfunction.\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"r\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-r\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-r\"\n  }, \"read_html\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"https://twinpeaks.fandom.com/wiki/Episode_9\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token percent-operator operator\"\n  }, \"%>%\"), \"\\n  html_node\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"[data-source='Series name'] + section .pi-data-value\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token percent-operator operator\"\n  }, \"%>%\"), \"\\n  html_text\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token percent-operator operator\"\n  }, \"%>%\"), \"\\n  str_remove\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"or: \\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\")))), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"text\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-text\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-text\"\n  }, \"## [1] \\\"Coma\\\"\"))), mdx(\"p\", null, \"Easy, isn\\u2019t it? Damn easy, some might say.\"), mdx(\"p\", null, \"Let\\u2019s take this opportunity to re-factor the code to use a function.\\nThis function will receive an episode URL, and it will return the title\\nfor that episode. We\\u2019ll test it out with episode number 16.\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"r\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-r\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-r\"\n  }, \"get_title \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"<-\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"function\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"episode_url\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n  read_html\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"episode_url\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token percent-operator operator\"\n  }, \"%>%\"), \"\\n  html_node\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"[data-source='Series name'] + section .pi-data-value\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token percent-operator operator\"\n  }, \"%>%\"), \"\\n  html_text\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token percent-operator operator\"\n  }, \"%>%\"), \"\\n  str_remove\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"or: \\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \"\\n\\nget_title\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"https://twinpeaks.fandom.com/wiki/Episode_16\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\")))), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"text\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-text\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-text\"\n  }, \"## [1] \\\"Arbitrary Law\\\"\"))), mdx(\"p\", null, \"Functions help us to organize our code into re-useable modules. Let\\u2019s\\ncreate a similar function that we can use to generate an episode\\u2019s URL\\nfrom it\\u2019s sequence number. For example; if we wanted the URL for episode\\n22, we could pass it to this function as an argument, and the function\\nwould return to us the full URL for episode 22.\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"r\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-r\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-r\"\n  }, \"get_episode_url \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"<-\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"function\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"episode_number\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n  str_c\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"https://twinpeaks.fandom.com/wiki/Episode_\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" episode_number\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" .sep \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \"\\n\\nget_episode_url\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"22\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\")))), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"text\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-text\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-text\"\n  }, \"## [1] \\\"https://twinpeaks.fandom.com/wiki/Episode_22\\\"\"))), mdx(\"p\", null, \"When we call the function and pass a number to it as an argument, it\\nreturns the full URL to us, as expected.\"), mdx(\"p\", null, \"We use this function to map-through all 29 episodes that aired between\\n1989 and 1991 using the \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"map\"), \" function. In case you\\u2019ve been using R for\\na while, \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"map\"), \" is similar to \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"lapply\"), \". This is what it looks like to\\nmap-through a vector of the numbers 1 to 29. We provide both the vector\\nof numbers, and the \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"get_episode_url\"), \" function to \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"map\"), \" as arguments,\\nand it returns to us a list of all 29 URLs.\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"r\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-r\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-r\"\n  }, \"episode_urls \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"<-\"), \" map\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"1\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"29\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" get_episode_url\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\n\\nepisode_urls \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token percent-operator operator\"\n  }, \"%>%\"), \"\\n  unlist\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\")))), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"text\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-text\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-text\"\n  }, \"##  [1] \\\"https://twinpeaks.fandom.com/wiki/Episode_1\\\"\\n##  [2] \\\"https://twinpeaks.fandom.com/wiki/Episode_2\\\"\\n##  [3] \\\"https://twinpeaks.fandom.com/wiki/Episode_3\\\"\\n##  [4] \\\"https://twinpeaks.fandom.com/wiki/Episode_4\\\"\\n##  [5] \\\"https://twinpeaks.fandom.com/wiki/Episode_5\\\"\\n##  [6] \\\"https://twinpeaks.fandom.com/wiki/Episode_6\\\"\\n##  [7] \\\"https://twinpeaks.fandom.com/wiki/Episode_7\\\"\\n##  [8] \\\"https://twinpeaks.fandom.com/wiki/Episode_8\\\"\\n##  [9] \\\"https://twinpeaks.fandom.com/wiki/Episode_9\\\"\\n## [10] \\\"https://twinpeaks.fandom.com/wiki/Episode_10\\\"\\n## [11] \\\"https://twinpeaks.fandom.com/wiki/Episode_11\\\"\\n## [12] \\\"https://twinpeaks.fandom.com/wiki/Episode_12\\\"\\n## [13] \\\"https://twinpeaks.fandom.com/wiki/Episode_13\\\"\\n## [14] \\\"https://twinpeaks.fandom.com/wiki/Episode_14\\\"\\n## [15] \\\"https://twinpeaks.fandom.com/wiki/Episode_15\\\"\\n## [16] \\\"https://twinpeaks.fandom.com/wiki/Episode_16\\\"\\n## [17] \\\"https://twinpeaks.fandom.com/wiki/Episode_17\\\"\\n## [18] \\\"https://twinpeaks.fandom.com/wiki/Episode_18\\\"\\n## [19] \\\"https://twinpeaks.fandom.com/wiki/Episode_19\\\"\\n## [20] \\\"https://twinpeaks.fandom.com/wiki/Episode_20\\\"\\n## [21] \\\"https://twinpeaks.fandom.com/wiki/Episode_21\\\"\\n## [22] \\\"https://twinpeaks.fandom.com/wiki/Episode_22\\\"\\n## [23] \\\"https://twinpeaks.fandom.com/wiki/Episode_23\\\"\\n## [24] \\\"https://twinpeaks.fandom.com/wiki/Episode_24\\\"\\n## [25] \\\"https://twinpeaks.fandom.com/wiki/Episode_25\\\"\\n## [26] \\\"https://twinpeaks.fandom.com/wiki/Episode_26\\\"\\n## [27] \\\"https://twinpeaks.fandom.com/wiki/Episode_27\\\"\\n## [28] \\\"https://twinpeaks.fandom.com/wiki/Episode_28\\\"\\n## [29] \\\"https://twinpeaks.fandom.com/wiki/Episode_29\\\"\"))), mdx(\"p\", null, \"We can now even map-through the episode URLs, passing each URL to the\\n\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"get_title\"), \" function. \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"map_chr\"), \" works just like a regular \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"map\"), \", except\\nthat it will \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"always\"), \" return a character.\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"r\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-r\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-r\"\n  }, \"episode_titles \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"<-\"), \" episode_urls \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token percent-operator operator\"\n  }, \"%>%\"), \"\\n  map_chr\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"get_title\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\n\\nepisode_titles\"))), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"text\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-text\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-text\"\n  }, \"##  [1] \\\"Traces to Nowhere\\\"\\n##  [2] \\\"Zen, or the Skill to Catch a Killer\\\"\\n##  [3] \\\"Rest in Pain\\\"\\n##  [4] \\\"The One-Armed Man\\\"\\n##  [5] \\\"Cooper's Dreams\\\"\\n##  [6] \\\"Realization Time\\\"\\n##  [7] \\\"The Last Evening\\\"\\n##  [8] \\\"May the Giant Be With You\\\"\\n##  [9] \\\"Coma\\\"\\n## [10] \\\"The Man Behind Glass\\\"\\n## [11] \\\"Laura's Secret Diary\\\"\\n## [12] \\\"The Orchid's Curse\\\"\\n## [13] \\\"Demons\\\"\\n## [14] \\\"Lonely Souls\\\"\\n## [15] \\\"Drive With a Dead Girl\\\"\\n## [16] \\\"Arbitrary Law\\\"\\n## [17] \\\"Dispute Between Brothers\\\"\\n## [18] \\\"Masked Ball\\\"\\n## [19] \\\"The Black Widow\\\"\\n## [20] \\\"Checkmate\\\"\\n## [21] \\\"Double Play\\\"\\n## [22] \\\"Slaves and Masters\\\"\\n## [23] \\\"The Condemned Woman\\\"\\n## [24] \\\"Wounds and Scars\\\"\\n## [25] \\\"On the Wings of Love\\\"\\n## [26] \\\"Variations on Relations\\\"\\n## [27] \\\"The Path to the Black Lodge\\\"\\n## [28] \\\"The Night of DecisionMiss Twin Peaks (see below)\\\"\\n## [29] \\\"Beyond Life and Death\\\"\"))), mdx(\"p\", null, \"Something isn\\u2019t quite right about our list of episode titles. First of\\nall, any true fan will notice instantly that there are actually 30\\nepisodes in the original series, not 29\", \"!\", \" It turns out that the Twin\\nPeaks Wiki uses a different URL pattern for the pilot episode. The\\nscript below scrapes the title from the pilot episode\\u2019s page. Notice\\nthat the URL ends in \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"/Pilot\"), \" instead of \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"/Episode_0\"), \", or \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"/Episode_1\"), \"\\nas might be expected, given the pattern that is used for the subsequent\\n29 episodes.\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"r\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-r\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-r\"\n  }, \"get_title\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"https://twinpeaks.fandom.com/wiki/Pilot\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\")))), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"text\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-text\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-text\"\n  }, \"## [1] \\\"Northwest Passage\\\"\"))), mdx(\"p\", null, \"This isn\\u2019t a problem though. We can simply prepend the episode titles\\nwith the pilot\\u2019s title like this:\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"r\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-r\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-r\"\n  }, \"episode_titles \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"<-\"), \" episode_titles \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token percent-operator operator\"\n  }, \"%>%\"), \"\\n  prepend\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"get_title\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"https://twinpeaks.fandom.com/wiki/Pilot\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\n\\nepisode_titles\"))), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"text\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-text\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-text\"\n  }, \"##  [1] \\\"Northwest Passage\\\"\\n##  [2] \\\"Traces to Nowhere\\\"\\n##  [3] \\\"Zen, or the Skill to Catch a Killer\\\"\\n##  [4] \\\"Rest in Pain\\\"\\n##  [5] \\\"The One-Armed Man\\\"\\n##  [6] \\\"Cooper's Dreams\\\"\\n##  [7] \\\"Realization Time\\\"\\n##  [8] \\\"The Last Evening\\\"\\n##  [9] \\\"May the Giant Be With You\\\"\\n## [10] \\\"Coma\\\"\\n## [11] \\\"The Man Behind Glass\\\"\\n## [12] \\\"Laura's Secret Diary\\\"\\n## [13] \\\"The Orchid's Curse\\\"\\n## [14] \\\"Demons\\\"\\n## [15] \\\"Lonely Souls\\\"\\n## [16] \\\"Drive With a Dead Girl\\\"\\n## [17] \\\"Arbitrary Law\\\"\\n## [18] \\\"Dispute Between Brothers\\\"\\n## [19] \\\"Masked Ball\\\"\\n## [20] \\\"The Black Widow\\\"\\n## [21] \\\"Checkmate\\\"\\n## [22] \\\"Double Play\\\"\\n## [23] \\\"Slaves and Masters\\\"\\n## [24] \\\"The Condemned Woman\\\"\\n## [25] \\\"Wounds and Scars\\\"\\n## [26] \\\"On the Wings of Love\\\"\\n## [27] \\\"Variations on Relations\\\"\\n## [28] \\\"The Path to the Black Lodge\\\"\\n## [29] \\\"The Night of DecisionMiss Twin Peaks (see below)\\\"\\n## [30] \\\"Beyond Life and Death\\\"\"))), mdx(\"p\", null, \"We now have the titles for all 30 episodes, including the pilot. It\\u2019s\\ntime to get the IMDB ratings for each episode. These are found on the\\n\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.imdb.com/title/tt0098936/episodes?season=1&ref_=ttep_ep_sn_nx\"\n  }, \"IMDB pages about Twin\\nPeaks\"), \",\\nwhich you can see a preview of below. Notice also the green box in the\\ntop-left corner. IMDB splits the episode information into two pages, so\\nonce again we\\u2019ll have to account for multiple URLs in our script.\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"672px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/00db134dfa47f0e3153a19945406cf7a/5ef17/imdb.jpg\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"69.64285714285714%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAOABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAUCA//EABYBAQEBAAAAAAAAAAAAAAAAAAEAAv/aAAwDAQACEAMQAAABp9Z1Q0aR/8QAGhAAAwEAAwAAAAAAAAAAAAAAAQIDAAQREv/aAAgBAQABBQKNCc9Qmm/teIeyUVsqhR//xAAXEQADAQAAAAAAAAAAAAAAAAAAAREh/9oACAEDAQE/AVLo5cP/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAcEAADAAEFAAAAAAAAAAAAAAAAARECEiExYtH/2gAIAQEABj8CmmTtRVclM/DdUiUP/8QAGhAAAwEBAQEAAAAAAAAAAAAAAAERITFBUf/aAAgBAQABPyFC2VOMDZDCJVNgtJTvir6QJRykMkP/2gAMAwEAAgADAAAAEKDv/8QAGBEAAwEBAAAAAAAAAAAAAAAAAAERIUH/2gAIAQMBAT8Qmk4Wbg//xAAXEQADAQAAAAAAAAAAAAAAAAAAAREh/9oACAECAQE/EHZgrNP/xAAbEAEBAAMBAQEAAAAAAAAAAAABEQAhMVFBcf/aAAgBAQABPxCWtBFHfPzDaCoCfMXKAoW8w/TAO1btp3grcqhy4gUVYe5//9k=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Twin Peaks ratings on IMDB\",\n    \"title\": \"Twin Peaks ratings on IMDB\",\n    \"src\": \"/static/00db134dfa47f0e3153a19945406cf7a/e9f84/imdb.jpg\",\n    \"srcSet\": [\"/static/00db134dfa47f0e3153a19945406cf7a/f697d/imdb.jpg 168w\", \"/static/00db134dfa47f0e3153a19945406cf7a/ba49c/imdb.jpg 336w\", \"/static/00db134dfa47f0e3153a19945406cf7a/e9f84/imdb.jpg 672w\", \"/static/00db134dfa47f0e3153a19945406cf7a/8a8a2/imdb.jpg 1008w\", \"/static/00db134dfa47f0e3153a19945406cf7a/5ef17/imdb.jpg 1152w\"],\n    \"sizes\": \"(max-width: 672px) 100vw, 672px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"The URLs for IMDB aren\\u2019t as pretty as the Twin Peaks Wiki ones. Below we\\ncreate another function, \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"get_season_url\"), \" that returns the IMDB url for\\neach season when mapped to the numbers 1 and 2. Pay attention to the\\npart of the URL that reads \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"season=1\"), \" or \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"season=2\"), \".\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"r\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-r\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-r\"\n  }, \"get_season_url \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"<-\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"function\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"season_number\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n  str_c\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"https://www.imdb.com/title/tt0098936/episodes?season=\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" season_number\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"&ref_=ttep_ep_sn_nx\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" .sep \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \"\\n\\nseason_urls \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"<-\"), \" map\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"1\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"2\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" get_season_url\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\n\\nseason_urls\"))), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"text\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-text\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-text\"\n  }, \"## [[1]]\\n## [1] \\\"https://www.imdb.com/title/tt0098936/episodes?season=1&ref_=ttep_ep_sn_nx\\\"\\n##\\n## [[2]]\\n## [1] \\\"https://www.imdb.com/title/tt0098936/episodes?season=2&ref_=ttep_ep_sn_nx\\\"\"))), mdx(\"p\", null, \"The ratings are contained inside of a \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"span\"), \" tag with the class\\n\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"'ipl-rating-star__rating'\"), \". We can get the IMDB ratings using the same\\ncode that we used to get the titles for all episodes from the Twin Peaks\\nWiki. This will return to us a list of the episode ratings for each\\nseason. The \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"as.numeric\"), \" function at the end of the script simply\\nensures that we\\u2019re returning the ratings in a number format, rather than\\nas text.\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"r\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-r\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-r\"\n  }, \"get_episode_ratings \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"<-\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"function\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"season_url\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n  read_html\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"season_url\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token percent-operator operator\"\n  }, \"%>%\"), \"\\n  html_nodes\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\".ipl-rating-star.small .ipl-rating-star__rating\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token percent-operator operator\"\n  }, \"%>%\"), \"\\n  html_text\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token percent-operator operator\"\n  }, \"%>%\"), \"\\n  as.numeric\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \"\\n\\nratings \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"<-\"), \" map\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"season_urls\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" get_episode_ratings\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\n\\nratings\"))), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"text\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-text\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-text\"\n  }, \"## [[1]]\\n## [1] 8.9 8.4 9.0 8.4 8.3 8.6 8.6 9.1\\n##\\n## [[2]]\\n##  [1] 9.0 8.7 8.3 8.2 8.5 8.6 9.4 8.6 9.3 7.9 7.6 7.6 7.9 7.8 7.5 7.9 7.7\\n## [18] 8.1 8.1 8.3 8.6 9.3\"))), mdx(\"p\", null, \"The numbers above are the IMDB ratings for each episode of the original\\ntwo seasons of Twin Peaks. We\\u2019re almost ready to create our table of\\nepisodes and their ratings, but first let\\u2019s modify the \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"ratings\"), \" list so\\nthat it tells us slightly more information about the data.\"), mdx(\"p\", null, mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"ratings\"), \" is a list of two items \\u2014each of which is a list itself. The\\nfirst item is a list of all ratings for season 1, and the second item is\\na list for all ratings for season 2. Using a function called\\n\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"set_names\"), \", we can give each item with a descriptive name.\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"r\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-r\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-r\"\n  }, \"ratings \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"<-\"), \" ratings \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token percent-operator operator\"\n  }, \"%>%\"), \"\\n  set_names\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"c\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"Season 1\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"Season 2\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\n\\nratings\"))), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"text\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-text\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-text\"\n  }, \"## $`Season 1`\\n## [1] 8.9 8.4 9.0 8.4 8.3 8.6 8.6 9.1\\n##\\n## $`Season 2`\\n##  [1] 9.0 8.7 8.3 8.2 8.5 8.6 9.4 8.6 9.3 7.9 7.6 7.6 7.9 7.8 7.5 7.9 7.7\\n## [18] 8.1 8.1 8.3 8.6 9.3\"))), mdx(\"p\", null, \"This is already far more helpful. But let\\u2019s go one step further, and\\nconvert the \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"ratings\"), \" list of two items (\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"'Season 1'\"), \" and \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"'Season 2'\"), \")\\ninto a \\u201Ctibble\\u201D, the dataframe of choice in the Tidyverse.\"), mdx(\"p\", null, \"Using the \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"enframe\"), \" function, \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"ratings\"), \" gets converted to a tibble with\\ntwo columns: \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"season\"), \" and \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"ratings\"), \".\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"r\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-r\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-r\"\n  }, \"ratings \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"<-\"), \" ratings \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token percent-operator operator\"\n  }, \"%>%\"), \"\\n  enframe\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"name \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"season\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" value \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"ratings\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\n\\nratings\"))), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"text\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-text\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-text\"\n  }, \"## # A tibble: 2 x 2\\n##   season   ratings\\n##   <chr>    <list>\\n## 1 Season 1 <dbl [8]>\\n## 2 Season 2 <dbl [22]>\"))), mdx(\"p\", null, \"The data-frame above contains a column for \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"season\"), \", and one for\\n\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"ratings\"), \". There are only two rows, but each rating is a vector of\\nmultiple ratings; the first containing 8, and the second 22. Together\\nthese represent all 30 episodes, and we can view the whole set easily\\nvia the \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"unnest\"), \" function, which will expand or \\u201Cun-nest\\u201D the vectors\\nfor us.\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"r\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-r\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-r\"\n  }, \"ratings \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"<-\"), \" ratings \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token percent-operator operator\"\n  }, \"%>%\"), \"\\n  unnest\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\n\\nratings\"))), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"text\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-text\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-text\"\n  }, \"## # A tibble: 30 x 2\\n##    season   ratings\\n##    <chr>      <dbl>\\n##  1 Season 1     8.9\\n##  2 Season 1     8.4\\n##  3 Season 1     9\\n##  4 Season 1     8.4\\n##  5 Season 1     8.3\\n##  6 Season 1     8.6\\n##  7 Season 1     8.6\\n##  8 Season 1     9.1\\n##  9 Season 2     9\\n## 10 Season 2     8.7\\n## # \\u2026 with 20 more rows\"))), mdx(\"p\", null, \"Finally, we can combine these two sets of values \\u2014the titles and the\\nratings \\u2014into their own table that we can then use to make our\\nvisualization.\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"r\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-r\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-r\"\n  }, \"twin_peaks_episodes \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"<-\"), \" tibble\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"title \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" episode_titles\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n                              season \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" ratings\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"$\"), \"season\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n                              rating \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" ratings\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"$\"), \"ratings\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\n\\ntwin_peaks_episodes\"))), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"text\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-text\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-text\"\n  }, \"## # A tibble: 30 x 3\\n##    title                               season   rating\\n##    <chr>                               <chr>     <dbl>\\n##  1 Northwest Passage                   Season 1    8.9\\n##  2 Traces to Nowhere                   Season 1    8.4\\n##  3 Zen, or the Skill to Catch a Killer Season 1    9\\n##  4 Rest in Pain                        Season 1    8.4\\n##  5 The One-Armed Man                   Season 1    8.3\\n##  6 Cooper's Dreams                     Season 1    8.6\\n##  7 Realization Time                    Season 1    8.6\\n##  8 The Last Evening                    Season 1    9.1\\n##  9 May the Giant Be With You           Season 2    9\\n## 10 Coma                                Season 2    8.7\\n## # \\u2026 with 20 more rows\"))), mdx(\"p\", null, \"But there\\u2019s a problem with the table.\"), mdx(\"p\", null, \"It comes back to the funny way that episodes of Twin Peaks didn\\u2019t\\noriginally have titles. When the penultimate episode aired on June 10th,\\n1991, it was titled \\u201CEpisode 29\\u201D. Later, the creators of the show, David\\nLynch and Mark Frost called it \\u201CThe Night of Decision\\u201D, but the fans\\nbegan referring to the episode as \\u201CMiss Twin Peaks\\u201D \\u2014the name of the\\nbeauty pageant that the episode surrounds. Our scraping script picked-up\\nboth of these titles, and even reference to a footnote about the story\\nof two names.\"), mdx(\"p\", null, \"We can view episode 29 in isolation using the \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"slice\"), \" function, which\\nwill return us the row number that we pass to it \\u201429, in this case.\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"r\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-r\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-r\"\n  }, \"twin_peaks_episodes \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token percent-operator operator\"\n  }, \"%>%\"), \"\\n  slice\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"29\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\")))), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"text\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-text\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-text\"\n  }, \"## # A tibble: 1 x 3\\n##   title                                            season   rating\\n##   <chr>                                            <chr>     <dbl>\\n## 1 The Night of DecisionMiss Twin Peaks (see below) Season 2    8.6\"))), mdx(\"p\", null, \"Fixing this programmatically shouldn\\u2019t take much work. Let\\u2019s first\\nremove the reference to the footnote: \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"'(see below)'\"), \".\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"r\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-r\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-r\"\n  }, \"twin_peaks_episodes \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"<-\"), \" twin_peaks_episodes \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token percent-operator operator\"\n  }, \"%>%\"), \"\\n  mutate\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"\\n    title \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" if_else\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"\\n      str_detect\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"title\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"The Night of Decision\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n      \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"Miss Twin Peaks\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n      title\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\n\\ntwin_peaks_episodes \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token percent-operator operator\"\n  }, \"%>%\"), \"\\n  slice\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"29\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\")))), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"text\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-text\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-text\"\n  }, \"## # A tibble: 1 x 3\\n##   title           season   rating\\n##   <chr>           <chr>     <dbl>\\n## 1 Miss Twin Peaks Season 2    8.6\"))), mdx(\"p\", null, \"The table above is exactly what we need to make our first\\nvisualization\", \"!\", \" The code below plots our ratings for each episode and\\ngenerates a clean-looking chart.\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"r\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-r\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-r\"\n  }, \"library\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"hrbrthemes\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\n\\nplot_episode_popularity \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"<-\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"function\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"episode_table\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n  ggplot\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"episode_table\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n         aes\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"x \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" forcats\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"::\"), \"fct_reorder\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"title\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" episode\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n             y \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" rating\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"+\"), \"\\n  geom_point\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"aes\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"color \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" season\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n             shape \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"15\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n             size \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"4\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"+\"), \"\\n  geom_text\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"aes\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"label \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" title\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n            angle \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"270\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n            size \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"3\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n            hjust \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"0\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n            nudge_y \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"-\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"0.2\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"+\"), \"\\n  labs\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"x \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"Episodes\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n       y \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"IMDB Rating\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n       title \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"Twin Peaks episodes ranked by IMDB\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"+\"), \"\\n  theme_ipsum_rc\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"grid\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"Y\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"+\"), \"\\n  theme\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"axis.text.x\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \"element_blank\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n        panel.grid.major \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" element_line\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"linetype \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"4\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n        legend.title \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" element_blank\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"+\"), \"\\n  ylim\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"0\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"NA\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \"\\n\\ntwin_peaks_episodes \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token percent-operator operator\"\n  }, \"%>%\"), \"\\n  mutate\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"episode \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" row_number\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token percent-operator operator\"\n  }, \"%>%\"), \"\\n  plot_episode_popularity\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\")))), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"672px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/63e138021017efff137c811713829d1b/4ad3a/unnamed-chunk-18-1.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"41.66666666666667%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA/UlEQVQoz6WR23LDIAxE/f//WKdxJm1iWxgTAvh6OqK5uHnoQ7sziwSSVgIKABFhX1W875V7DocDu7LkdDyyxbquujz5GgOKECPJOZKRbEfvcSJUtscOAyYm2hAzFYsW32xcVyTnxIdosSwLzlrk9Enf1FyMIHVNbS27Vvgwht57TsbwZgylMVR9z9l7jtZSns+4y+UpqE4IAdN1OO+Jw4BOHa5XurZlmWfmaSKGQNM0OOe+bd/TiWBFGFNiSgkdrlBV5TiOzPP8eBP1leuts8aVihhj9odhIKaUc2pjcuMsuBW6N/ht/4rt2Q/Be/F/mAX17n8RVEz6vptf/gIuvXGoVYEmOAAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"unnamed chunk 18 1\",\n    \"title\": \"unnamed chunk 18 1\",\n    \"src\": \"/static/63e138021017efff137c811713829d1b/30d16/unnamed-chunk-18-1.png\",\n    \"srcSet\": [\"/static/63e138021017efff137c811713829d1b/9d904/unnamed-chunk-18-1.png 168w\", \"/static/63e138021017efff137c811713829d1b/d99f2/unnamed-chunk-18-1.png 336w\", \"/static/63e138021017efff137c811713829d1b/30d16/unnamed-chunk-18-1.png 672w\", \"/static/63e138021017efff137c811713829d1b/d6a46/unnamed-chunk-18-1.png 1008w\", \"/static/63e138021017efff137c811713829d1b/4ad3a/unnamed-chunk-18-1.png 1152w\"],\n    \"sizes\": \"(max-width: 672px) 100vw, 672px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"Now that we\\u2019ve sucessfully reproduced the first chart from Katie\\u2019s\\ntweet, let\\u2019s have a look at the second chart, which visualizes the\\ncentrality of different characters to the show\\u2019s plot, based on the\\nnumber of times they are mentioned in the episode summaries on IMDB.\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"672px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/322d96b7925f778b13d29991aea42857/0d6fe/broad_city_chart_2.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"71.42857142857143%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB4ElEQVQ4y62SvW4TQRSFt+IteAJEAa9AQcNLgEKB+OmgQQqINqKkpaJJTAGGhggUoUBigyKjYLK21+t47bWNZ39mZ2ZtFIX4Q2uwZUNMASmOzpVG55t7RmMJ0cd2qzQ6TapujXLFpuo4VKtVbNvGcer4vk/dqeN5HpVKZexJkqC1Rik19oms7ODr9j791w10o8+RUgyiGBEECCEIgmAcllLO+QT0B1AbTbhUZHh2nbX8LhdbBR77LofpAGUMxpi5wKwy2O+ydGoQV4twboPba5tYuzmuODuMzAB5TGCiRZdYkYwRS4Ux8H5uC2svz033E0cm/StwkawwCqfA5Qz45TnX66V/B85WngVOKy+otrDyiQNPvHIUx8cCR0YhVfwfb3h+g3tPM+Azbrif+W4gVqO5Pzeexy7ROvk5/wIlU6DRiMsFOPOGu6vvsMovuOasQ/wAEz1CK4nJgkYjlUSbAYk6ROkDVDabIUNjOEg1qdFYMpEEd3bg0jYPXxY55Wyy7OYgPs0wuMDKxya3Ci3svMtwpUbytsS34RPS6BVpr8aga1Pp9nnfCvFCiZWtGXYFPdcnjBPstkeoJJ22ixBd9lo9PtQ9wk6EX9pH9Xp02ltEQYWw6yH8Br0wptzsEEjFD+mP8SfKRRrjAAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Broad City characters mentioned in episode\\nsummaries\",\n    \"title\": \"Broad City characters mentioned in episode\\nsummaries\",\n    \"src\": \"/static/322d96b7925f778b13d29991aea42857/30d16/broad_city_chart_2.png\",\n    \"srcSet\": [\"/static/322d96b7925f778b13d29991aea42857/9d904/broad_city_chart_2.png 168w\", \"/static/322d96b7925f778b13d29991aea42857/d99f2/broad_city_chart_2.png 336w\", \"/static/322d96b7925f778b13d29991aea42857/30d16/broad_city_chart_2.png 672w\", \"/static/322d96b7925f778b13d29991aea42857/d6a46/broad_city_chart_2.png 1008w\", \"/static/322d96b7925f778b13d29991aea42857/0d6fe/broad_city_chart_2.png 1115w\"],\n    \"sizes\": \"(max-width: 672px) 100vw, 672px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"In the case of Twin Peaks, we actually have the credits for each episode\\neasily available to us on the Twin Peaks Wiki. We\\u2019ll simply need to\\nscrape the cast data, and then filter-out any irrelevant information,\\nlike credits for stunt-doubles, etc.\"), mdx(\"p\", null, \"You can see where we\\u2019ll be scraping this data from in the GIF below.\\nEach cast member exists as a hyperlink (\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"a\"), \") inside-of an \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"li\"), \" element.\\nThis information will be used to select the names of the cast members\\nwhen we scrape the data.\"), mdx(\"p\", null, mdx(\"img\", {\n    parentName: \"p\",\n    \"src\": \"/1b28f8ad8ca66249036505a0a8e25e70/twin_peaks_wiki_cast.gif\",\n    \"alt\": \"Twin Peaks Wiki - Cast Nodes\"\n  })), mdx(\"p\", null, \"Below you\\u2019ll see a similar functions that we used to scrape the titles\\nfrom the Twin Peaks Wiki, only modified to select the episode cast and\\ncharacters information. We\\u2019ll also use the exact same \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"episode_urls\"), \"\\nvariable from above. The amount of nodes being scraped here quite large,\\nso I\\u2019m outputting the cast for episode 21 only to show the raw scraped\\ndata.\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"r\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-r\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-r\"\n  }, \"get_cast \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"<-\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"function\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"episode_url\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n  read_html\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"episode_url\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token percent-operator operator\"\n  }, \"%>%\"), \"\\n  html_nodes\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\".WikiaArticle > div > ul > li\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token percent-operator operator\"\n  }, \"%>%\"), \"\\n  html_text\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \"\\n\\ncast \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"<-\"), \" map\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"c\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"https://twinpeaks.fandom.com/wiki/Pilot\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" episode_urls\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" get_cast\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\n\\ncast\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"[\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"21\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"]\")))), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"text\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-text\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-text\"\n  }, \"## [[1]]\\n##  [1] \\\"Kyle MacLachlan as Special Agent Dale Cooper\\\\n\\\"\\n##  [2] \\\"Michael Ontkean as Sheriff Harry S. Truman\\\\n\\\"\\n##  [3] \\\"Madchen Amick as Shelly Johnson\\\\n\\\"\\n##  [4] \\\"Dana Ashbrook as Bobby Briggs\\\\n\\\"\\n##  [5] \\\"Richard Beymer as Benjamin Horne\\\\n\\\"\\n##  [6] \\\"Lara Flynn Boyle as Donna Hayward\\\\n\\\"\\n##  [7] \\\"Sherilyn Fenn as Audrey Horne\\\\n\\\"\\n##  [8] \\\"Warren Frost as Dr. Will Hayward\\\\n\\\"\\n##  [9] \\\"Peggy Lipton as Norma Jennings\\\\n\\\"\\n## [10] \\\"James Marshall as James Hurley\\\\n\\\"\\n## [11] \\\"Everett McGill as Big Ed Hurley\\\\n\\\"\\n## [12] \\\"Jack Nance as Pete Martell (credit only)\\\\n\\\"\\n## [13] \\\"Kimmy Robertson as Lucy Moran\\\\n\\\"\\n## [14] \\\"Joan Chen as Jocelyn Packard\\\\n\\\"\\n## [15] \\\"Piper Laurie as Catherine Martell\\\\n\\\"\\n## [16] \\\"Eric Da Re as Leo Johnson\\\\n\\\"\\n## [17] \\\"Harry Goaz as Deputy Andy Brennan\\\\n\\\"\\n## [18] \\\"Michael Horse as Deputy Tommy \\\\\\\"Hawk\\\\\\\" Hill\\\\n\\\"\\n## [19] \\\" Chris Mulkey as Hank Jennings\\\\n\\\"\\n## [20] \\\"Ian Buchanan as Dick Tremayne\\\\n\\\"\\n## [21] \\\"James Booth as Ernie Niles\\\\n\\\"\\n## [22] \\\"David Duchovny as DEA Agent Dennis / Denise Bryson\\\\n\\\"\\n## [23] \\\"Gavan O'Herlihy as RCMP Officer Preston King\\\\n\\\"\\n## [24] \\\"Wendy Robie as Nadine Hurley\\\\n\\\"\\n## [25] \\\"Don Davis as Maj. Garland Briggs\\\\n\\\"\\n## [26] \\\"Gary Hershberger as Mike Nelson\\\\n\\\"\\n## [27] \\\"Annette McCarthy as Evelyn Marsh\\\\n\\\"\\n## [28] \\\"Nicholas Love as Malcolm Sloan\\\\n\\\"\\n## [29] \\\"Michael Parks as Jean Renault\\\\n\\\"\\n## [30] \\\"J. Marvin Campbell as M. P. #1\\\\n\\\"\\n## [31] \\\"Will Seltzer as Mr. Brunston\\\\n\\\"\\n## [32] \\\"Craig MacLachlan as The Dead Man\\\\n\\\"\\n## [33] \\\"John Epstein as Utility Stunts\\\\n\\\"\\n## [34] \\\"Beverly Gordon as Mrs. Brunston [citation needed]\\\"\\n## [35] \\\"Don LaFontaine as Invitation to Love's Announcer (voice) [citation needed]\\\"\\n## [36] \\\"Lance Davis as Chet Weems (voice)\\\\n\\\"\\n## [37] \\\"Erika Anderson as Emerald (voice)\\\\n\\\"\\n## [38] \\\"Timeline: Saturday, March 18\\\\n\\\"\\n## [39] \\\" When Audrey is crounching by Ben, playing with his figurines, a blue microphone appears at the top of the screen.\\\\n\\\"\"))), mdx(\"p\", null, \"The \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"credits\"), \" variable contains all of the scraped credits data from all\\n30 episode pages (including the pilot). But it contains a lot of\\nirrelevant data too. Have a look at the credits data for episode 21\\nabove, we can see that it includes credits for voice actors,\\nnon-appearing cast members (\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"'credit only'\"), \"), and even some notes about\\nthe episode as well.\"), mdx(\"p\", null, \"We can remove some of the white-space and formatting from the credits\\nusing a few simple functions. Notice that the list below is just\\nslightly cleaner than the one above. This is because we removed all of\\nthe \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"\\\\n\"), \" patterns from the strings.\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"r\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-r\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-r\"\n  }, \"clean_cast \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"<-\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"function\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"episode_cast\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n  str_squish\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"episode_cast\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token percent-operator operator\"\n  }, \"%>%\"), \"\\n  str_trim\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token percent-operator operator\"\n  }, \"%>%\"), \"\\n  str_remove_all\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"\\\\\\\\[([^\\\\\\\\]])\\\\\\\\]\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token percent-operator operator\"\n  }, \"%>%\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"# remove citations\"), \"\\n  str_replace_all\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"'\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'\\\"'\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"# convert single-quotes to double\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \"\\n\\ncast \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"<-\"), \" map\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"cast\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" clean_cast\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\n\\ncast\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"[\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"21\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"]\")))), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"text\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-text\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-text\"\n  }, \"## [[1]]\\n##  [1] \\\"Kyle MacLachlan as Special Agent Dale Cooper\\\"\\n##  [2] \\\"Michael Ontkean as Sheriff Harry S. Truman\\\"\\n##  [3] \\\"Madchen Amick as Shelly Johnson\\\"\\n##  [4] \\\"Dana Ashbrook as Bobby Briggs\\\"\\n##  [5] \\\"Richard Beymer as Benjamin Horne\\\"\\n##  [6] \\\"Lara Flynn Boyle as Donna Hayward\\\"\\n##  [7] \\\"Sherilyn Fenn as Audrey Horne\\\"\\n##  [8] \\\"Warren Frost as Dr. Will Hayward\\\"\\n##  [9] \\\"Peggy Lipton as Norma Jennings\\\"\\n## [10] \\\"James Marshall as James Hurley\\\"\\n## [11] \\\"Everett McGill as Big Ed Hurley\\\"\\n## [12] \\\"Jack Nance as Pete Martell (credit only)\\\"\\n## [13] \\\"Kimmy Robertson as Lucy Moran\\\"\\n## [14] \\\"Joan Chen as Jocelyn Packard\\\"\\n## [15] \\\"Piper Laurie as Catherine Martell\\\"\\n## [16] \\\"Eric Da Re as Leo Johnson\\\"\\n## [17] \\\"Harry Goaz as Deputy Andy Brennan\\\"\\n## [18] \\\"Michael Horse as Deputy Tommy \\\\\\\"Hawk\\\\\\\" Hill\\\"\\n## [19] \\\"Chris Mulkey as Hank Jennings\\\"\\n## [20] \\\"Ian Buchanan as Dick Tremayne\\\"\\n## [21] \\\"James Booth as Ernie Niles\\\"\\n## [22] \\\"David Duchovny as DEA Agent Dennis / Denise Bryson\\\"\\n## [23] \\\"Gavan O\\\\\\\"Herlihy as RCMP Officer Preston King\\\"\\n## [24] \\\"Wendy Robie as Nadine Hurley\\\"\\n## [25] \\\"Don Davis as Maj. Garland Briggs\\\"\\n## [26] \\\"Gary Hershberger as Mike Nelson\\\"\\n## [27] \\\"Annette McCarthy as Evelyn Marsh\\\"\\n## [28] \\\"Nicholas Love as Malcolm Sloan\\\"\\n## [29] \\\"Michael Parks as Jean Renault\\\"\\n## [30] \\\"J. Marvin Campbell as M. P. #1\\\"\\n## [31] \\\"Will Seltzer as Mr. Brunston\\\"\\n## [32] \\\"Craig MacLachlan as The Dead Man\\\"\\n## [33] \\\"John Epstein as Utility Stunts\\\"\\n## [34] \\\"Beverly Gordon as Mrs. Brunston [citation needed]\\\"\\n## [35] \\\"Don LaFontaine as Invitation to Love\\\\\\\"s Announcer (voice) [citation needed]\\\"\\n## [36] \\\"Lance Davis as Chet Weems (voice)\\\"\\n## [37] \\\"Erika Anderson as Emerald (voice)\\\"\\n## [38] \\\"Timeline: Saturday, March 18\\\"\\n## [39] \\\"When Audrey is crounching by Ben, playing with his figurines, a blue microphone appears at the top of the screen.\\\"\"))), mdx(\"p\", null, \"Removing the voice-only credits, and other records that we aren\\u2019t\\ninterested in is also quite simple. The function below will keep the\\nrecords that we want, and remove any of the ones that we don\\u2019t. Each\\nepisode\\u2019s cast list gets mapped-to the \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"filter_credits\"), \" function, and\\nthe output is a much tidyer list of actual cast members who appeared in\\nthe episode.\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"r\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-r\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-r\"\n  }, \"filter_credits \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"<-\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"function\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"episode_credits\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n  keep\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"episode_credits\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" str_detect\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"episode_credits\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\" as \\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token percent-operator operator\"\n  }, \"%>%\"), \"\\n    discard\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"str_length\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \".\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \">\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"50\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token percent-operator operator\"\n  }, \"%>%\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"# remove any actual text that was scraped\"), \"\\n    discard\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"str_detect\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \".\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"credit only\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token percent-operator operator\"\n  }, \"%>%\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"# remove non-appearing cast members\"), \"\\n    discard\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"str_detect\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \".\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"performer\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token percent-operator operator\"\n  }, \"%>%\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"# remove unknown actors\"), \"\\n    discard\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"str_detect\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \".\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"voice\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token percent-operator operator\"\n  }, \"%>%\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"# remove voice-only cast members\"), \"\\n    discard\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"str_detect\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \".\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"deleted scene\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token percent-operator operator\"\n  }, \"%>%\"), \"\\n    discard\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"str_detect\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \".\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"archive footage\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token percent-operator operator\"\n  }, \"%>%\"), \"\\n    discard\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"str_detect\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \".\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"citation needed\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token percent-operator operator\"\n  }, \"%>%\"), \"\\n    discard\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"str_detect\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \".\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"Invitation To Love\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"# remove soap opera credits\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \"\\n\\ncast \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"<-\"), \" map\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"cast\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" clean_cast\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token percent-operator operator\"\n  }, \"%>%\"), \"\\n  map\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"filter_credits\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\n\\ncast\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"[\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"21\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"]\")))), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"text\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-text\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-text\"\n  }, \"## [[1]]\\n##  [1] \\\"Kyle MacLachlan as Special Agent Dale Cooper\\\"\\n##  [2] \\\"Michael Ontkean as Sheriff Harry S. Truman\\\"\\n##  [3] \\\"Madchen Amick as Shelly Johnson\\\"\\n##  [4] \\\"Dana Ashbrook as Bobby Briggs\\\"\\n##  [5] \\\"Richard Beymer as Benjamin Horne\\\"\\n##  [6] \\\"Lara Flynn Boyle as Donna Hayward\\\"\\n##  [7] \\\"Sherilyn Fenn as Audrey Horne\\\"\\n##  [8] \\\"Warren Frost as Dr. Will Hayward\\\"\\n##  [9] \\\"Peggy Lipton as Norma Jennings\\\"\\n## [10] \\\"James Marshall as James Hurley\\\"\\n## [11] \\\"Everett McGill as Big Ed Hurley\\\"\\n## [12] \\\"Kimmy Robertson as Lucy Moran\\\"\\n## [13] \\\"Joan Chen as Jocelyn Packard\\\"\\n## [14] \\\"Piper Laurie as Catherine Martell\\\"\\n## [15] \\\"Eric Da Re as Leo Johnson\\\"\\n## [16] \\\"Harry Goaz as Deputy Andy Brennan\\\"\\n## [17] \\\"Michael Horse as Deputy Tommy \\\\\\\"Hawk\\\\\\\" Hill\\\"\\n## [18] \\\"Chris Mulkey as Hank Jennings\\\"\\n## [19] \\\"Ian Buchanan as Dick Tremayne\\\"\\n## [20] \\\"James Booth as Ernie Niles\\\"\\n## [21] \\\"David Duchovny as DEA Agent Dennis / Denise Bryson\\\"\\n## [22] \\\"Gavan O\\\\\\\"Herlihy as RCMP Officer Preston King\\\"\\n## [23] \\\"Wendy Robie as Nadine Hurley\\\"\\n## [24] \\\"Don Davis as Maj. Garland Briggs\\\"\\n## [25] \\\"Gary Hershberger as Mike Nelson\\\"\\n## [26] \\\"Annette McCarthy as Evelyn Marsh\\\"\\n## [27] \\\"Nicholas Love as Malcolm Sloan\\\"\\n## [28] \\\"Michael Parks as Jean Renault\\\"\\n## [29] \\\"J. Marvin Campbell as M. P. #1\\\"\\n## [30] \\\"Will Seltzer as Mr. Brunston\\\"\\n## [31] \\\"Craig MacLachlan as The Dead Man\\\"\\n## [32] \\\"John Epstein as Utility Stunts\\\"\"))), mdx(\"p\", null, \"Much nicer. Now we have a tidy list of the cast members for each\\nepisode. But still; what we really need are just the \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"characters\"), \" that\\nappear in each episode. Thankfully, this is quick-work too. When mapped\\nto a string, the \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"str_extract\"), \" function will remove whatever pattern we\\npass to it.\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"r\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-r\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-r\"\n  }, \"characters \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"<-\"), \" map\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"cast\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" stringr\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"::\"), \"str_extract\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" pattern \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"(?<= as ).*\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\n\\ncharacters\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"[\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"21\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"]\")))), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"text\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-text\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-text\"\n  }, \"## [[1]]\\n##  [1] \\\"Special Agent Dale Cooper\\\"        \\\"Sheriff Harry S. Truman\\\"\\n##  [3] \\\"Shelly Johnson\\\"                   \\\"Bobby Briggs\\\"\\n##  [5] \\\"Benjamin Horne\\\"                   \\\"Donna Hayward\\\"\\n##  [7] \\\"Audrey Horne\\\"                     \\\"Dr. Will Hayward\\\"\\n##  [9] \\\"Norma Jennings\\\"                   \\\"James Hurley\\\"\\n## [11] \\\"Big Ed Hurley\\\"                    \\\"Lucy Moran\\\"\\n## [13] \\\"Jocelyn Packard\\\"                  \\\"Catherine Martell\\\"\\n## [15] \\\"Leo Johnson\\\"                      \\\"Deputy Andy Brennan\\\"\\n## [17] \\\"Deputy Tommy \\\\\\\"Hawk\\\\\\\" Hill\\\"       \\\"Hank Jennings\\\"\\n## [19] \\\"Dick Tremayne\\\"                    \\\"Ernie Niles\\\"\\n## [21] \\\"DEA Agent Dennis / Denise Bryson\\\" \\\"RCMP Officer Preston King\\\"\\n## [23] \\\"Nadine Hurley\\\"                    \\\"Maj. Garland Briggs\\\"\\n## [25] \\\"Mike Nelson\\\"                      \\\"Evelyn Marsh\\\"\\n## [27] \\\"Malcolm Sloan\\\"                    \\\"Jean Renault\\\"\\n## [29] \\\"M. P. #1\\\"                         \\\"Mr. Brunston\\\"\\n## [31] \\\"The Dead Man\\\"                     \\\"Utility Stunts\\\"\"))), mdx(\"p\", null, \"The list above is exactly what we need\", \"!\", \" Now that we\\u2019ve isolated the\\ncharacters for all 30 episodes of Twin Peaks, we can add them to our\\ntable of episode data as a new column named \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"characters\"), \". The \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"mutate\"), \"\\nfunction will create a new column from the data that we pass to it \\u2014the\\n\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"characters\"), \" list, in this case.\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"r\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-r\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-r\"\n  }, \"twin_peaks_episodes \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"<-\"), \" twin_peaks_episodes \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token percent-operator operator\"\n  }, \"%>%\"), \"\\n  mutate\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"characters\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\n\\ntwin_peaks_episodes\"))), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"text\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-text\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-text\"\n  }, \"## # A tibble: 30 x 4\\n##    title                               season   rating characters\\n##    <chr>                               <chr>     <dbl> <list>\\n##  1 Northwest Passage                   Season 1    8.9 <chr [54]>\\n##  2 Traces to Nowhere                   Season 1    8.4 <chr [33]>\\n##  3 Zen, or the Skill to Catch a Killer Season 1    9   <chr [37]>\\n##  4 Rest in Pain                        Season 1    8.4 <chr [38]>\\n##  5 The One-Armed Man                   Season 1    8.3 <chr [31]>\\n##  6 Cooper's Dreams                     Season 1    8.6 <chr [32]>\\n##  7 Realization Time                    Season 1    8.6 <chr [38]>\\n##  8 The Last Evening                    Season 1    9.1 <chr [32]>\\n##  9 May the Giant Be With You           Season 2    9   <chr [40]>\\n## 10 Coma                                Season 2    8.7 <chr [30]>\\n## # \\u2026 with 20 more rows\"))), mdx(\"p\", null, \"How simple was that\", \"!\", \" The new column contains rows that look like \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"<chr [33]>\"), \". This means that the row contains a list of 33 strings, or\\n\\u201Ccharacters\\u201D as they\\u2019re called in R. No pun intended.\"), mdx(\"p\", null, \"In order to find the total number of appearances for each character\\nthroughout the show, we need to first \\u201Cun-nest\\u201D the column of characters\\nin each episode. The output below will show you what I mean by\\n\\u201Cun-nesting\\u201D. The \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"unnest\"), \" function is going to expand our tibble from\\njust 30 rows to a whopping 955 rows\", \"!\", \" It does this by creating a row for\\nevery single character appearance. In a way, this changes the nature of\\nour tibble from a tibble of Twin Peaks episodes, to a tibble of all\\ncharacter appearances throughout seasons 1 and 2 of Twin Peaks.\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"r\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-r\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-r\"\n  }, \"all_character_appearances \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"<-\"), \" twin_peaks_episodes \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token percent-operator operator\"\n  }, \"%>%\"), \"\\n  unnest\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\n\\nall_character_appearances\"))), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"text\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-text\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-text\"\n  }, \"## # A tibble: 955 x 4\\n##    title             season   rating characters\\n##    <chr>             <chr>     <dbl> <chr>\\n##  1 Northwest Passage Season 1    8.9 Special Agent Dale Cooper\\n##  2 Northwest Passage Season 1    8.9 Sheriff Harry S. Truman\\n##  3 Northwest Passage Season 1    8.9 Shelly Johnson\\n##  4 Northwest Passage Season 1    8.9 Bobby Briggs\\n##  5 Northwest Passage Season 1    8.9 Benjamin Horne\\n##  6 Northwest Passage Season 1    8.9 Donna Hayward\\n##  7 Northwest Passage Season 1    8.9 Audrey Horne\\n##  8 Northwest Passage Season 1    8.9 Dr. Will Hayward\\n##  9 Northwest Passage Season 1    8.9 Norma Jennings\\n## 10 Northwest Passage Season 1    8.9 James Hurley\\n## # \\u2026 with 945 more rows\"))), mdx(\"p\", null, \"The tibble above contains all appearances for every character in the\\nshow between seasons 1 and 2. By applying the \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"filter\"), \" function to\\nfilter for a particular character, we can quickly find all of episodes\\nthat a character appears in.\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"r\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-r\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-r\"\n  }, \"all_character_appearances \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token percent-operator operator\"\n  }, \"%>%\"), \"\\n  filter\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"characters \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"==\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"Betty Briggs\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\")))), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"text\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-text\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-text\"\n  }, \"## # A tibble: 7 x 4\\n##   title                 season   rating characters\\n##   <chr>                 <chr>     <dbl> <chr>\\n## 1 Northwest Passage     Season 1    8.9 Betty Briggs\\n## 2 Traces to Nowhere     Season 1    8.4 Betty Briggs\\n## 3 Rest in Pain          Season 1    8.4 Betty Briggs\\n## 4 Cooper's Dreams       Season 1    8.6 Betty Briggs\\n## 5 Masked Ball           Season 2    7.6 Betty Briggs\\n## 6 The Black Widow       Season 2    7.6 Betty Briggs\\n## 7 Beyond Life and Death Season 2    9.3 Betty Briggs\"))), mdx(\"p\", null, \"It\\u2019s time now to summarize the character appearances. We want a list\\ncontaining each character, as well as the total number of episodes that\\nthey appeared in. Using the \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"group_by\"), \" function, we can group-together\\nall of the episodes that each character appeared-in. For Betty Briggs,\\nthis would mean that we\\u2019re grouping-together the 7 appearances that you\\ncan see in the tibble above.\"), mdx(\"p\", null, mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"group_by\"), \" is different from \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"filter\"), \" though, because \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"group_by\"), \" will\\nalways return the entire data set that was passed to it. But it enables\\nus to use another very useful function: \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"summarize\"), \".\"), mdx(\"p\", null, \"We\\u2019ll use \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"summarize\"), \" to count the number of episodes that each\\ncharacter appears in, and to return a tibble of all 189 characters and\\nthe number of appearances for each.\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"r\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-r\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-r\"\n  }, \"appearances_per_character \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"<-\"), \" all_character_appearances \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token percent-operator operator\"\n  }, \"%>%\"), \"\\n  group_by\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"characters\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token percent-operator operator\"\n  }, \"%>%\"), \"\\n  summarise\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"total_appearances \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token percent-operator operator\"\n  }, \"%>%\"), \"\\n  arrange\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"desc\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"total_appearances\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\n\\nappearances_per_character\"))), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"text\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-text\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-text\"\n  }, \"## # A tibble: 189 x 2\\n##    characters                   total_appearances\\n##    <chr>                                    <int>\\n##  1 Benjamin Horne                              30\\n##  2 Donna Hayward                               30\\n##  3 Sheriff Harry S. Truman                     30\\n##  4 Special Agent Dale Cooper                   30\\n##  5 Audrey Horne                                28\\n##  6 \\\"Deputy Tommy \\\\\\\"Hawk\\\\\\\" Hill\\\"                28\\n##  7 Deputy Andy Brennan                         26\\n##  8 Dr. Will Hayward                            26\\n##  9 Shelly Johnson                              26\\n## 10 Bobby Briggs                                25\\n## # \\u2026 with 179 more rows\"))), mdx(\"p\", null, \"Let\\u2019s quickly try applying the same \\u201CBetty Briggs\\u201D filter to the\\n\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"appearances_per_character\"), \" tibble. This time, it will return a single\\nrow, but the value of the \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"total_appearances\"), \" column will be 7; the\\nnumber of rows that was returned the last time that we filtered for\\nBetty Briggs.\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"r\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-r\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-r\"\n  }, \"appearances_per_character \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token percent-operator operator\"\n  }, \"%>%\"), \"\\n  filter\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"characters \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"==\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"Betty Briggs\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\")))), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"text\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-text\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-text\"\n  }, \"## # A tibble: 1 x 2\\n##   characters   total_appearances\\n##   <chr>                    <int>\\n## 1 Betty Briggs                 7\"))), mdx(\"p\", null, \"It\\u2019s \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"almost\"), \" time to plot our chart.\"), mdx(\"p\", null, \"But before we do that, let\\u2019s filter the list of characters down to a\\nsmaller, more relevant list. It isn\\u2019t very interesting to know about\\nminor characters who only appeared in one or two episodes. In fact,\\nlet\\u2019s filter-out the bottom third of all characters, keeping only\\nthose who appear in more than 10 episodes. Using the \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"filter\"), \" function,\\nwe can refine the number of characters to plot from 189 to just 29. This\\nshould make for a far more readable chart.\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"r\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-r\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-r\"\n  }, \"frequently_appearing_characters \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"<-\"), \" appearances_per_character \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token percent-operator operator\"\n  }, \"%>%\"), \"\\n  filter\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"total_appearances \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \">\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"10\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\n\\nfrequently_appearing_characters\"))), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"text\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-text\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-text\"\n  }, \"## # A tibble: 29 x 2\\n##    characters                   total_appearances\\n##    <chr>                                    <int>\\n##  1 Benjamin Horne                              30\\n##  2 Donna Hayward                               30\\n##  3 Sheriff Harry S. Truman                     30\\n##  4 Special Agent Dale Cooper                   30\\n##  5 Audrey Horne                                28\\n##  6 \\\"Deputy Tommy \\\\\\\"Hawk\\\\\\\" Hill\\\"                28\\n##  7 Deputy Andy Brennan                         26\\n##  8 Dr. Will Hayward                            26\\n##  9 Shelly Johnson                              26\\n## 10 Bobby Briggs                                25\\n## # \\u2026 with 19 more rows\"))), mdx(\"p\", null, \"Finally; using many of the same functions that we used to produce the\\nIMDB rankings chart, we can plot a horizonal column chart of the\\ncharacters according to how many episodes they appear in.\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"r\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-r\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-r\"\n  }, \"frequently_appearing_characters \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token percent-operator operator\"\n  }, \"%>%\"), \"\\n  ggplot\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"aes\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"x \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" fct_reorder\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"characters\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n                             total_appearances\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n             y \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" total_appearances\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"+\"), \"\\n  geom_col\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"mapping \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" aes\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"fill \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" characters\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"+\"), \"\\n  coord_flip\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"+\"), \"\\n  labs\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"y \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"Total appearances\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n       title \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"Twin Peaks characters by their appearances\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"+\"), \"\\n  theme_ipsum_rc\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"grid\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"X\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"+\"), \"\\n  theme\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"legend.position\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"none\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n        axis.title.y \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" element_blank\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\")))), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"672px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/bdee9a0a478b3c1d757f29a56d277317/4ad3a/unnamed-chunk-29-1.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"58.333333333333336%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAACP0lEQVQoz4WTzU8TQRjG+3d58qYQL1xMBC5qiDEIXEzggGBMNEZIRGhFkKiED6lQLBQNKBaS8mHQRAQxBBRLt9ud3S1Q2CCl7fZndru2RU18k99kZg5Pnud9Z1w4lclkkGMxZEWgqCqyoiA0nZgQSLLM4dER/6tsNosrkUgQ13V2D/bZX99GPHmL2j+D6H2H1hdE6Z222RsKYfjeY4wU4VvkcPQDRt8Mx99lW9RlGAbhH1so2i7xzRlCbadZ6DzHwsPSAp2lzHlKCLnPEHKfzTPvKWHac4p57yX2lK85QSuqFImgajtIm0uMei4T6KlhvLv6JI+rCThY54mea/jcV9kMDkMq5UQ2caXTaaJRiZjQEBvLvOm4TrD7BsGuxhyPGgt7h9nuJqbcjYSm7nBgqraYaWZyDq1FqBq6iLC0BVXPoG4Qagb+5vf9lV5oGICohiNm2gOxh2JdKEJBU3Q+R5ZoGKni5lgtzf6aEzS9rKNhuJZbY/W0BLuYDX/JO8s6E873MLy9TVxRmIvKlPknqHw1SflEgYrAay5O+ahf9LK4NQupOJhJzJySTV7Q6mFEktgRgjkpTNloP5WBF5SPe6kIeDnvH+TCpJ+VhEkSOAbS1rvFEXPc5SNbiyRJaKpgbT3M7dY+Wju8tLQPca99iAdtz/n26aMVDttSNtevYrHisnuox3WMvQPWdja4u9zF/dWnNq0rPXhW+/npPAvTEbNSZYtiWkNJJpOFoRR9nn9g2mT/iFfsLpVKYX0QS/gX+Ts+JRjNeUQAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"unnamed chunk 29 1\",\n    \"title\": \"unnamed chunk 29 1\",\n    \"src\": \"/static/bdee9a0a478b3c1d757f29a56d277317/30d16/unnamed-chunk-29-1.png\",\n    \"srcSet\": [\"/static/bdee9a0a478b3c1d757f29a56d277317/9d904/unnamed-chunk-29-1.png 168w\", \"/static/bdee9a0a478b3c1d757f29a56d277317/d99f2/unnamed-chunk-29-1.png 336w\", \"/static/bdee9a0a478b3c1d757f29a56d277317/30d16/unnamed-chunk-29-1.png 672w\", \"/static/bdee9a0a478b3c1d757f29a56d277317/d6a46/unnamed-chunk-29-1.png 1008w\", \"/static/bdee9a0a478b3c1d757f29a56d277317/4ad3a/unnamed-chunk-29-1.png 1152w\"],\n    \"sizes\": \"(max-width: 672px) 100vw, 672px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"hr\", null), mdx(\"p\", null, \"In this post, we scraped HTML data from several web pages to compile\\ndata about the cult classic TV series Twin Peaks, and then we created\\ntwo charts from our scraped data.\"), mdx(\"p\", null, \"But before you get the wrong impression, and think that \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://exts.epfl.ch/courses-programs/50-things-you-need-to-know-about-data\"\n  }, \"\\u201C50 Things You\\nNeed to Know About\\nData\\u201D\"), \"\\nis a course about web scraping \\u2014I need to be clear that this is just one\\ntopic among many that you\\u2019ll study if you follow the course.\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"672px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/55e926514b3e1985e652a7e922145e2d/29114/inputs-outputs.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"56.547619047619044%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACHklEQVQoz42SSWtUURCF+8/6H1y5cOPSRQLuFdwoKskikSAEgknIgEbTIZ225ze/fvM8fnKrO3HrheJWPepUnXfPGXRdS1WkhIGL51qksU9dJNRlSlOlclfb+jGqIqbMY5LYJw49wTd1Qd/3DFRS5pEMypKAPA0p84QsDQmDNa5j4tgmrmMReC55GlHkMXkWybA4XFNkkSzp2oZB11b0bUmkwLZOU2XSaOgatqWTRB5ZEsqiJPJZuyah7wrrKHAJPFswXZPTNjUDz7XRllNMY8nlxalsXC3n6NpSltyNFxxfjjm5nnB2M+Puj4FlWVtWiUQcefy4voC+YzB+GHF4sE9b58Jm7Vpo2pLQd/j5+469o3NevfnIs+e7vHj9nqOzMaOJRhQ4DG9vGN3fCpn9vc/0fctgMZ9yfnoi7/Yoim0Z+Gub6WzOwfEVO28Pebnzkd13X7kartANk8CzmIzv0VczVosJXz592DAs8lTEUKqpYeo9VG0aOp5rstAcvv8yGM1dLoYGw7FOmSkRg6e3VX1qsDBsm0rsITaI/CebKJXzNGC6tPh2ucC0HOaaI7luuuIM37NZO6ZglbBtWyvblJsBSSCKqVw1qOjqjCAMuZ/ZRNFGhIf5ZvAjRnxbbgh1XcOg7zrauiRNAvFdU+XkWYyhLzGNFdpqhqkvsE0NU33T5ljGSnqSOCCOfMGoPxVjsz2qgF7u/wm2/f+wm/MXHs056phn3PsAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Other concepts covered in the course.\",\n    \"title\": \"Other concepts covered in the course.\",\n    \"src\": \"/static/55e926514b3e1985e652a7e922145e2d/30d16/inputs-outputs.png\",\n    \"srcSet\": [\"/static/55e926514b3e1985e652a7e922145e2d/9d904/inputs-outputs.png 168w\", \"/static/55e926514b3e1985e652a7e922145e2d/d99f2/inputs-outputs.png 336w\", \"/static/55e926514b3e1985e652a7e922145e2d/30d16/inputs-outputs.png 672w\", \"/static/55e926514b3e1985e652a7e922145e2d/d6a46/inputs-outputs.png 1008w\", \"/static/55e926514b3e1985e652a7e922145e2d/47218/inputs-outputs.png 1344w\", \"/static/55e926514b3e1985e652a7e922145e2d/29114/inputs-outputs.png 1920w\"],\n    \"sizes\": \"(max-width: 672px) 100vw, 672px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"As a newcomer to data science and data visualization, I found this\\ncourse inspiring. And as a web developer, it was refreshingly fun. I\\u2019d\\nrecommend it to anyone who is interested in working with data, but who\\nhasn\\u2019t yet wrangled data programmatically.\"), mdx(\"p\", null, \"Special thanks to \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"http://data-chips.com/\"\n  }, \"Katie Segretti\"), \", whose charts\\nwere the inspiration for this article, and who graciously agreed to let\\nme use her visualizations here as well.\"));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"title":"Scraping web data with R & the Tidyverse","date":"April 16, 2019","description":"Data wrangling with the Tidyverse"}}},"pageContext":{"slug":"/twin_peaks/","previous":null,"next":{"fields":{"slug":"/sre_for_non_dev_ops/"},"frontmatter":{"title":"Applying SRE"}}}},
    "staticQueryHashes": ["1588037479","3000541721"]}