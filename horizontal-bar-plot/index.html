<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta data-react-helmet="true" name="twitter:description" content="A step-by step guide to plotting a custom D3 bar chart."/><meta data-react-helmet="true" name="twitter:title" content="Horizontal Bar Plot With D3"/><meta data-react-helmet="true" name="twitter:creator" content="Harry Anderson"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:description" content="A step-by step guide to plotting a custom D3 bar chart."/><meta data-react-helmet="true" property="og:title" content="Horizontal Bar Plot With D3"/><meta data-react-helmet="true" name="description" content="A step-by step guide to plotting a custom D3 bar chart."/><meta name="theme-color" content="#98c6c3"/><meta name="generator" content="Gatsby 4.10.3"/><style data-href="/xari-dev/styles.192d59cafb0658b431ed.css" data-identity="gatsby-global-css">:root{--indigo-100:#e0e7ff;--indigo-500:#6366f1;--indigo-600:#4f46e5;--indigo-700:#4338ca}input[type=range]{-webkit-appearance:none;margin:18px 0;width:100%}input[type=range]:focus{outline:none}input[type=range]::-webkit-slider-runnable-track{background:var(--indigo-600);border:.2px solid #010101;border-radius:1.3px;box-shadow:1px 1px 1px #000,0 0 1px #0d0d0d;cursor:pointer;height:8.4px;width:100%}input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;background:#fff;border:1px solid #000;border-radius:3px;box-shadow:1px 1px 1px #000,0 0 1px #0d0d0d;cursor:pointer;height:36px;margin-top:-14px;width:16px}input[type=range]:focus::-webkit-slider-runnable-track{background:var(--indigo-500)}input[type=range]::-moz-range-track{background:var(--indigo-600);border:.2px solid #010101;border-radius:1.3px;box-shadow:1px 1px 1px #000,0 0 1px #0d0d0d;cursor:pointer;height:8.4px;width:100%}input[type=range]::-moz-range-thumb{background:#fff;border:1px solid #000;border-radius:3px;box-shadow:1px 1px 1px #000,0 0 1px #0d0d0d;cursor:pointer;height:36px;width:16px}input[type=range]::-ms-track{background:transparent;border-color:transparent;border-width:16px 0;color:transparent;cursor:pointer;height:8.4px;width:100%}input[type=range]::-ms-fill-lower{background:var(--indigo-600)}input[type=range]::-ms-fill-lower,input[type=range]::-ms-fill-upper{border:.2px solid #010101;border-radius:2.6px;box-shadow:1px 1px 1px #000,0 0 1px #0d0d0d}input[type=range]::-ms-fill-upper{background:var(--indigo-100)}input[type=range]::-ms-thumb{background:#fff;border:1px solid #000;border-radius:3px;box-shadow:1px 1px 1px #000,0 0 1px #0d0d0d;cursor:pointer;height:36px;width:16px}input[type=range]:focus::-ms-fill-lower{background:var(--indigo-500)}input[type=range]:focus::-ms-fill-upper{background:var(--indigo-100)}.font-stroke{-webkit-text-stroke:2px #000}.font-typewriter{font-family:American Typewriter}@font-face{font-display:swap;font-family:Rosario;font-style:normal;font-weight:700;src:url(data:font/woff2;base64,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) format("woff2"),url(/xari-dev/static/rosario-all-700-normal-043b1f5928b20008eccc323788b8c165.woff) format("woff");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01a0-01a1,U+01af-01b0,U+1ea0-1ef9,U+20ab}@font-face{font-display:swap;font-family:Rosario;font-style:normal;font-weight:700;src:url(data:font/woff2;base64,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) format("woff2"),url(/xari-dev/static/rosario-all-700-normal-043b1f5928b20008eccc323788b8c165.woff) format("woff");unicode-range:U+0100-024f,U+0259,U+1e??,U+2020,U+20a0-20ab,U+20ad-20cf,U+2113,U+2c60-2c7f,U+a720-a7ff}@font-face{font-display:swap;font-family:Rosario;font-style:normal;font-weight:700;src:url(/xari-dev/static/rosario-latin-700-normal-9fe9feae302f413b3b5d16380dd256cc.woff2) format("woff2"),url(/xari-dev/static/rosario-all-700-normal-043b1f5928b20008eccc323788b8c165.woff) format("woff");unicode-range:U+00??,U+0131,U+0152-0153,U+02bb-02bc,U+02c6,U+02da,U+02dc,U+2000-206f,U+2074,U+20ac,U+2122,U+2191,U+2193,U+2212,U+2215,U+feff,U+fffd}@font-face{font-display:swap;font-family:Crimson Text;font-style:normal;font-weight:400;src:url(/xari-dev/static/crimson-text-latin-400-normal-48fa7e7a63dde1204f5af0acbd9bb831.woff2) format("woff2"),url(/xari-dev/static/crimson-text-all-400-normal-2ed3c76bbe4b7f6c64d16ea76837332d.woff) format("woff");unicode-range:U+00??,U+0131,U+0152-0153,U+02bb-02bc,U+02c6,U+02da,U+02dc,U+2000-206f,U+2074,U+20ac,U+2122,U+2191,U+2193,U+2212,U+2215,U+feff,U+fffd}code[class*=language-],pre[class*=language-]{word-wrap:normal;background:none;color:#000;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;text-align:left;text-shadow:0 1px #fff;white-space:pre;word-break:normal;word-spacing:normal}code[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection{background:#b3d4fc;text-shadow:none}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{background:#b3d4fc;text-shadow:none}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{background:hsla(0,0%,100%,.5);color:#9a6e3a}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}

/*
! tailwindcss v3.0.23 | MIT License | https://tailwindcss.com
*/*,:after,:before{border:0 solid #e5e7eb;box-sizing:border-box}:after,:before{--tw-content:""}html{-webkit-text-size-adjust:100%;font-family:ui-sans-serif,system-ui;line-height:1.5;-moz-tab-size:4;tab-size:4}body{line-height:inherit;margin:0}hr{border-top-width:1px;color:inherit;height:0}abbr:where([title]){text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{border-collapse:collapse;border-color:inherit;text-indent:0}button,input,optgroup,select,textarea{color:inherit;font-family:inherit;font-size:100%;line-height:inherit;margin:0;padding:0}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0}fieldset,legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{color:#9ca3af;opacity:1}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{height:auto;max-width:100%}[hidden]{display:none}h1,h2,h3,h4,h5{font-family:Rosario}h2,h3,h4,h5{margin-top:2.5rem}body{color:rgba(0,0,0,.73);font-family:Crimson Text,ui-serif;font-size:1.5rem;line-height:2rem}a{color:#ff5700}blockquote,p{margin-bottom:1.5rem;margin-top:1.5rem}blockquote{border-left:4px;border-color:#ff5700;border-style:solid;color:rgba(0,0,0,.59);font-size:1.5rem;font-style:italic;line-height:2rem;padding-left:1.25rem}small{font-weight:200;margin-bottom:.5rem;margin-top:.5rem}*,:after,:before{--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.container{width:100%}@media (min-width:640px){.container{max-width:640px}}@media (min-width:768px){.container{max-width:768px}}@media (min-width:1024px){.container{max-width:1024px}}@media (min-width:1280px){.container{max-width:1280px}}@media (min-width:1536px){.container{max-width:1536px}}.pointer-events-none{pointer-events:none}.visible{visibility:visible}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.m-1{margin:.25rem}.my-3{margin-bottom:.75rem;margin-top:.75rem}.my-5{margin-bottom:1.25rem;margin-top:1.25rem}.-mx-1{margin-left:-.25rem;margin-right:-.25rem}.my-8{margin-bottom:2rem;margin-top:2rem}.mx-auto{margin-left:auto;margin-right:auto}.my-2{margin-bottom:.5rem;margin-top:.5rem}.mb-10{margin-bottom:2.5rem}.mt-0{margin-top:0}.mt-5{margin-top:1.25rem}.mb-8{margin-bottom:2rem}.block{display:block}.inline-block{display:inline-block}.flex{display:flex}.inline-flex{display:inline-flex}.table{display:table}.grid{display:grid}.contents{display:contents}.list-item{display:list-item}.hidden{display:none}.h-24{height:6rem}.h-20{height:5rem}.h-16{height:4rem}.h-full{height:100%}.h-6{height:1.5rem}.h-5{height:1.25rem}.w-full{width:100%}.w-24{width:6rem}.w-20{width:5rem}.w-16{width:4rem}.w-11{width:2.75rem}.w-5{width:1.25rem}.max-w-xl{max-width:36rem}.max-w-2xl{max-width:42rem}.max-w-3xl{max-width:48rem}.flex-shrink-0{flex-shrink:0}.flex-grow{flex-grow:1}.translate-x-5{--tw-translate-x:1.25rem}.translate-x-0,.translate-x-5{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.translate-x-0{--tw-translate-x:0px}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.cursor-pointer{cursor:pointer}.resize{resize:both}.grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.grid-cols-5{grid-template-columns:repeat(5,minmax(0,1fr))}.grid-cols-6{grid-template-columns:repeat(6,minmax(0,1fr))}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.content-center{align-content:center}.items-center{align-items:center}.justify-center{justify-content:center}.gap-1{gap:.25rem}.space-x-3>:not([hidden])~:not([hidden]){--tw-space-x-reverse:0;margin-left:calc(.75rem*(1 - var(--tw-space-x-reverse)));margin-right:calc(.75rem*var(--tw-space-x-reverse))}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:.5rem}.rounded{border-radius:.25rem}.rounded-md{border-radius:.375rem}.border{border-width:1px}.border-2{border-width:2px}.border-emerald-800{--tw-border-opacity:1;border-color:rgb(6 95 70/var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-gray-100{--tw-bg-opacity:1;background-color:rgb(243 244 246/var(--tw-bg-opacity))}.bg-neutral-50{--tw-bg-opacity:1;background-color:rgb(250 250 250/var(--tw-bg-opacity))}.bg-indigo-600{--tw-bg-opacity:1;background-color:rgb(79 70 229/var(--tw-bg-opacity))}.bg-gray-200{--tw-bg-opacity:1;background-color:rgb(229 231 235/var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255/var(--tw-bg-opacity))}.p-5{padding:1.25rem}.py-2{padding-bottom:.5rem;padding-top:.5rem}.px-2{padding-left:.5rem;padding-right:.5rem}.py-0{padding-bottom:0;padding-top:0}.px-4{padding-left:1rem;padding-right:1rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.py-3{padding-bottom:.75rem;padding-top:.75rem}.text-center{text-align:center}.text-5xl{font-size:3rem;line-height:1}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-8xl{font-size:6rem;line-height:1}.text-base{font-size:1rem;line-height:1.5rem}.font-semibold{font-weight:600}.font-light{font-weight:300}.font-medium{font-weight:500}.leading-6{line-height:1.5rem}.text-emerald-800{--tw-text-opacity:1;color:rgb(6 95 70/var(--tw-text-opacity))}.text-emerald-500{--tw-text-opacity:1;color:rgb(16 185 129/var(--tw-text-opacity))}.text-white{--tw-text-opacity:1;color:rgb(255 255 255/var(--tw-text-opacity))}.text-gray-900{--tw-text-opacity:1;color:rgb(17 24 39/var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity:1;color:rgb(107 114 128/var(--tw-text-opacity))}.shadow-sm{--tw-shadow:0 1px 2px 0 rgba(0,0,0,.05);--tw-shadow-colored:0 1px 2px 0 var(--tw-shadow-color)}.shadow,.shadow-sm{box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.shadow{--tw-shadow:0 1px 3px 0 rgba(0,0,0,.1),0 1px 2px -1px rgba(0,0,0,.1);--tw-shadow-colored:0 1px 3px 0 var(--tw-shadow-color),0 1px 2px -1px var(--tw-shadow-color)}.outline{outline-style:solid}.ring-0{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0 #0000)}.invert{--tw-invert:invert(100%)}.filter,.invert{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition-colors{transition-duration:.15s;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1)}.transition{transition-duration:.15s;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1)}.duration-200{transition-duration:.2s}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.content{margin-bottom:1.25rem;margin-top:1.25rem;padding-bottom:1.25rem}.content p{max-width:48rem}.painted-border{background:transparent;border-image-slice:6.8965517241% 7.8636959371% 7.0993914807% 0 fill;border-style:solid;border-width:30px 0;overflow:hidden}code[class*=language-],pre[class*=language-]{font-size:1.125rem;line-height:1.75rem}pre[class*=language-]{margin-left:-1.25rem;margin-right:-1.25rem;max-width:51rem;padding-left:1.25rem;padding-right:0}pre[class*=language-] span{font-size:1rem;line-height:1.5rem}.sm-text pre[class*=language-] span{font-size:.875rem;line-height:1.25rem}h1 a{color:rgba(0,0,0,.73)}.call-out-indigo{background:transparent;border-image-slice:6.8965517241% 7.8636959371% 7.0993914807% 0 fill;border-image-source:url(/xari-dev/static/bg-paper-indigo-802b37ee4d804d6242e32afa23b84b94.svg);border-style:solid;border-width:30px 0;margin-left:-1.25rem;margin-right:-1.25rem;overflow:hidden;padding:.5rem 0 1rem 1.25rem}.call-out-indigo :not(pre)>code[class*=language-],.call-out-indigo pre[class*=language-]{background:none;border:none;max-width:none;width:calc(100% + 20px)}.call-out-indigo code[class*=language-]{padding-right:0}.hover\:bg-indigo-700:hover{--tw-bg-opacity:1;background-color:rgb(67 56 202/var(--tw-bg-opacity))}.focus\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\:ring-2:focus{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0 #0000)}.focus\:ring-indigo-500:focus{--tw-ring-opacity:1;--tw-ring-color:rgb(99 102 241/var(--tw-ring-opacity))}.focus\:ring-offset-2:focus{--tw-ring-offset-width:2px}@media (min-width:640px){.sm\:h-28{height:7rem}.sm\:h-24{height:6rem}.sm\:h-20{height:5rem}.sm\:w-28{width:7rem}.sm\:w-24{width:6rem}.sm\:w-20{width:5rem}.sm\:space-x-4>:not([hidden])~:not([hidden]){--tw-space-x-reverse:0;margin-left:calc(1rem*(1 - var(--tw-space-x-reverse)));margin-right:calc(1rem*var(--tw-space-x-reverse))}.sm\:px-6{padding-left:1.5rem;padding-right:1.5rem}.sm\:text-4xl{font-size:2.25rem;line-height:2.5rem}.sm\:text-2xl{font-size:1.5rem;line-height:2rem}.sm\:text-xl{font-size:1.25rem;line-height:1.75rem}}@media (min-width:768px){.md\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.md\:text-3xl{font-size:1.875rem;line-height:2.25rem}.md\:text-2xl{font-size:1.5rem;line-height:2rem}}@media (min-width:1024px){.lg\:grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.lg\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.lg\:px-8{padding-left:2rem;padding-right:2rem}}</style><link rel="icon" href="/xari-dev/favicon-32x32.png?v=96165a355baf19d04458cd7fc8e1f5c3" type="image/png"/><link rel="manifest" href="/xari-dev/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/xari-dev/icons/icon-48x48.png?v=96165a355baf19d04458cd7fc8e1f5c3"/><link rel="apple-touch-icon" sizes="72x72" href="/xari-dev/icons/icon-72x72.png?v=96165a355baf19d04458cd7fc8e1f5c3"/><link rel="apple-touch-icon" sizes="96x96" href="/xari-dev/icons/icon-96x96.png?v=96165a355baf19d04458cd7fc8e1f5c3"/><link rel="apple-touch-icon" sizes="144x144" href="/xari-dev/icons/icon-144x144.png?v=96165a355baf19d04458cd7fc8e1f5c3"/><link rel="apple-touch-icon" sizes="192x192" href="/xari-dev/icons/icon-192x192.png?v=96165a355baf19d04458cd7fc8e1f5c3"/><link rel="apple-touch-icon" sizes="256x256" href="/xari-dev/icons/icon-256x256.png?v=96165a355baf19d04458cd7fc8e1f5c3"/><link rel="apple-touch-icon" sizes="384x384" href="/xari-dev/icons/icon-384x384.png?v=96165a355baf19d04458cd7fc8e1f5c3"/><link rel="apple-touch-icon" sizes="512x512" href="/xari-dev/icons/icon-512x512.png?v=96165a355baf19d04458cd7fc8e1f5c3"/><title data-react-helmet="true">Horizontal Bar Plot With D3 | Ideas in Development</title><link as="script" rel="preload" href="/xari-dev/webpack-runtime-4d727c66955a014f899f.js"/><link as="script" rel="preload" href="/xari-dev/framework-b782686806907140249c.js"/><link as="script" rel="preload" href="/xari-dev/89ce22b1-8a434d16af35682e2e68.js"/><link as="script" rel="preload" href="/xari-dev/dc6a8720040df98778fe970bf6c000a41750d3ae-caa2bca955599c9b1b03.js"/><link as="script" rel="preload" href="/xari-dev/app-cd3f71a3d8c77415ad01.js"/><link as="script" rel="preload" href="/xari-dev/commons-020ed7793b3c09aeb0f6.js"/><link as="script" rel="preload" href="/xari-dev/cd7d5f864fc9e15ed8adef086269b0aeff617554-e7e717af7ac4907af484.js"/><link as="script" rel="preload" href="/xari-dev/component---src-templates-blog-post-js-0545cce77b0cf10a5b3a.js"/><link as="fetch" rel="preload" href="/xari-dev/page-data/horizontal-bar-plot/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/xari-dev/page-data/sq/d/1588037479.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/xari-dev/page-data/sq/d/3000541721.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/xari-dev/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="p-5"><header><h3 class="text-xl my-3"><a href="/xari-dev/">Ideas in Development</a></h3></header><main class="my-3"><article><header class="my-3"><h1 class="text-5xl">Horizontal Bar Plot With D3</h1><p>January 21, 2022</p></header><span></span><section class="content"><div class="call-out-indigo"><p>This post is part of a series on data wrangling and visualisation with JavaScript.
It explores data from the <a href="../data-wrangling-with-js">Punk API</a>, and uses it to plot asthetically pleasing charts with D3.js.
You can find a list of the other posts in this series <a href="../data-wrangling-with-js">here</a></p></div><p>For this part of the series, we’re going to make a horizontal bar plot using D3.js.
I’ve broken the steps into an easy-to follow sequence, so if you’re new to D3, this is a great place to get oriented with how to use it.
The plot below is what we’ll be creating in this post.</p><p><img src="/xari-dev/9e412c89b8ee68812310d97d9c5baa90/bars.svg" alt="Completed chart"/></p><p>IBU stands for International Bitterness Units.
It’s a metric that represents the bitterness of a drink.
The higher the IBU, the more bitter the beer.</p><p>We’ll be going through this process in a step-by-step manner, which you can see a preview of below.</p><p><img src="/xari-dev/d1caf83c4ad65f9ddd6633af2552dfdf/time_lapse.gif" alt="Time lapse"/></p><h2>The data</h2><p>We’re working with an array that represents 30 beers, shown below.</p><div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json"><span class="token punctuation">[</span>
  <span class="token punctuation">{</span> <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Tactical Nuclear Penguin&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;ibu&quot;</span><span class="token operator">:</span> <span class="token number">1157</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Sink The Bismarck!&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;ibu&quot;</span><span class="token operator">:</span> <span class="token number">1085</span> <span class="token punctuation">}</span>
  <span class="token comment">// ... 28 more items</span>
<span class="token punctuation">]</span></code></pre></div><p>This array contains everything that we need to plot the horizontal bar chart.
Each object has two properties: <code class="language-text">name</code> and <code class="language-text">ibu</code>.
If you’d like to see how this array came to be, I encourage you to look back on the earlier posts about <a href="../binding-data-d3">binding data</a> and <a href="../d3-scales">D3 scales</a>.</p><h2>Boilerplate</h2><p>Let’s set-up our SVG and append it to the document that we’re working with.
If you need help with the code below, check-out the <a href="../data-wrangling-with-js">introduction to this series</a>.</p><div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> width <span class="token operator">=</span> <span class="token number">680</span>
<span class="token keyword">const</span> height <span class="token operator">=</span> <span class="token number">480</span>

<span class="token keyword">const</span> svg <span class="token operator">=</span> body
  <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;svg&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">&quot;xmlns&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;http://www.w3.org/2000/svg&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">&quot;width&quot;</span><span class="token punctuation">,</span> width<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">&quot;height&quot;</span><span class="token punctuation">,</span> height<span class="token punctuation">)</span></code></pre></div><p>Now that our SVG element is appended to the document’s body, let’s add a full-height-and-width white background and black border to it.
This is purely to help us get oriented with where the different elements of our plot will go, and we’ll remove it once we’ve put our axes in place.
Keep the variable name <code class="language-text">documentOutline</code> in mind, as we’ll need to reference that name when we’re ready to remove the outline.</p><div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> documentOutline <span class="token operator">=</span> svg
  <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;rect&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">&quot;height&quot;</span><span class="token punctuation">,</span> height<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">&quot;width&quot;</span><span class="token punctuation">,</span> width<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">&quot;x&quot;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">&quot;y&quot;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">style</span><span class="token punctuation">(</span><span class="token string">&quot;stroke&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;#000&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">style</span><span class="token punctuation">(</span><span class="token string">&quot;fill&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;none&quot;</span><span class="token punctuation">)</span></code></pre></div><p><img src="/xari-dev/57e0df6a9e3261be42411dbd2c19e951/outline.svg" alt="Outline"/></p><p>Let’s also create another temporary outline that indicates where the horizontal bars will eventually go.</p><div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> margin <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">top</span><span class="token operator">:</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token literal-property property">right</span><span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token literal-property property">bottom</span><span class="token operator">:</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token literal-property property">left</span><span class="token operator">:</span> <span class="token number">200</span> <span class="token punctuation">}</span>
<span class="token keyword">const</span> plotHeight <span class="token operator">=</span> height <span class="token operator">-</span> margin<span class="token punctuation">.</span>top <span class="token operator">-</span> margin<span class="token punctuation">.</span>bottom
<span class="token keyword">const</span> plotWidth <span class="token operator">=</span> width <span class="token operator">-</span> margin<span class="token punctuation">.</span>left <span class="token operator">-</span> margin<span class="token punctuation">.</span>right

<span class="token keyword">const</span> plotOutline <span class="token operator">=</span> svg
  <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;rect&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">&quot;x&quot;</span><span class="token punctuation">,</span> margin<span class="token punctuation">.</span>left<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">&quot;y&quot;</span><span class="token punctuation">,</span> margin<span class="token punctuation">.</span>top<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">&quot;height&quot;</span><span class="token punctuation">,</span> plotHeight<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">&quot;width&quot;</span><span class="token punctuation">,</span> plotWidth<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">style</span><span class="token punctuation">(</span><span class="token string">&quot;fill&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;#00AFDB&quot;</span><span class="token punctuation">)</span></code></pre></div><p>Creating variables for <code class="language-text">plotHeight</code> and <code class="language-text">plotWidth</code> will help us when it comes time to create and position other elements of the chart like axis labels, and even the horizontal bars themselves.</p><p><img src="/xari-dev/8c01f8e49cee1085dc3c10c7624607ea/plot-outline.svg" alt="Plot outline"/></p><h2>Using a scale to plot the X axis</h2><p>In another post, we used D3 scales to <a href="../d3-scales">calculate the width and height of plot elements from data</a>.
We’re going to apply that same technique here to create our plot axes.</p><p>Remember that data set of 30 beer objects that we’re working with.
It’s ordered by <em>descending</em> <code class="language-text">value</code>.<br/>
<!-- -->Here’s a look at that first array item once again:</p><div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js">ibu<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token comment">// { &quot;name&quot;: &quot;Tactical Nuclear Penguin&quot;, &quot;ibu&quot;: 1157 }</span></code></pre></div><p>We create a scale in D3 by calling a scale function —in this case <code class="language-text">scaleLinear()</code> —and providing it with a domain and a range.
In this case, the domain is derived from the values <code class="language-text">0</code> and <code class="language-text">1157</code>, because we want the axis to begin at 0 and go all the way to the largest value in the data set, <code class="language-text">1157</code>.
The range goes from <code class="language-text">0</code> to <code class="language-text">430</code>, because we want the axis line to begin at 0 and go the full length of <code class="language-text">plotWidth</code>.</p><div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> scaleX <span class="token operator">=</span> d3
  <span class="token punctuation">.</span><span class="token function">scaleLinear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">domain</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> ibu<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> plotWidth<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre></div><p>We can generate everything we need for the X axis by calling <code class="language-text">d3.axisBottom(scaleX)</code>.
This function will take care of positioning all axis ticks and labels properly.
If you’ve read the <a href="../binding-data-d3">post on binding data to DOM elements</a> you’ll appreciate how much <code class="language-text">axisBottom()</code> and <code class="language-text">axisLeft()</code> simplify the axis generation process.</p><div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> axisX <span class="token operator">=</span> svg
  <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;g&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">&quot;transform&quot;</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">translate(0, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>plotHeight<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>d3<span class="token punctuation">.</span><span class="token function">axisBottom</span><span class="token punctuation">(</span>scaleX<span class="token punctuation">)</span><span class="token punctuation">)</span>

axisX <span class="token comment">// Selection { _groups: [ [ [SVGSVGElement] ] ], _parents: [ null ] }</span></code></pre></div><p><img src="/xari-dev/0c5442aa01a5171bb67ca10fdeb28617/x_axis.svg" alt="X axis"/></p><div class="call-out-indigo"><h2>A note about <code class="language-text">call()</code></h2><p>The <code class="language-text">call()</code> method will invoke the axis function and append the axis to the SVG.
In the block above we “call” <code class="language-text">d3.axisBottom(scaleX)</code> from the <code class="language-text">svg.append(&quot;g&quot;)</code> method chain.
The code below will do <em>almost</em> the same thing, but with one major difference:</p><div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> axisX <span class="token operator">=</span> d3<span class="token punctuation">.</span><span class="token function">axisBottom</span><span class="token punctuation">(</span>scaleX<span class="token punctuation">)</span><span class="token punctuation">(</span>
  svg<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;g&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">&quot;transform&quot;</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">translate(0, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>plotHeight<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>

axisX <span class="token comment">// undefined</span></code></pre></div><p>The difference being that <code class="language-text">call()</code> will always return the selection that invoked it; thus keeping the method chain intact.
If we never intend to reference <code class="language-text">axisX</code> in our code, then we’re free to use the syntax that doesn’t return the selection.
But if we do want to reference <code class="language-text">axisX</code> later in our code, then we’ll need to initialize it using the <code class="language-text">call()</code> method.</p></div><p>This is just a personal preference, but I find that rotating the X axis tick labels by 45 degrees adds a flare of elegance and increases the readablility of the chart.
Since <code class="language-text">axisX</code> is a D3 selection, chaining-up a call to <code class="language-text">selectAll(&quot;text&quot;)</code> will select the <code class="language-text">&lt;text/&gt;</code> elements that are contained within the axis.</p><div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js">axisX
  <span class="token punctuation">.</span><span class="token function">selectAll</span><span class="token punctuation">(</span><span class="token string">&quot;text&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">&quot;transform&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;translate(-10,0)rotate(-45)&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">style</span><span class="token punctuation">(</span><span class="token string">&quot;text-anchor&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;end&quot;</span><span class="token punctuation">)</span></code></pre></div><p><img src="/xari-dev/1526a95746b2231e70597d2b8cf2e0ca/rotated.svg" alt="Rotated axis labels"/></p><p>We’ll also want to position the axis to it’s proper place, along the bottom edge of the plot area.</p><div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js">axisX<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">&quot;transform&quot;</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">translate(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>margin<span class="token punctuation">.</span>left<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>plotHeight <span class="token operator">+</span> margin<span class="token punctuation">.</span>top<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span></code></pre></div><p><img src="/xari-dev/f6c7a1e93feed07b3833509576dac910/positioned.svg" alt="Position the axis"/></p><h2>Adding text</h2><p>No chart is complete without it’s title, and that’s exactly what we’ll add to our chart now.
Simply append a new <code class="language-text">&lt;text/&gt;</code> element to the chart, position and style it properly, and set it’s inner-text to something descriptive.</p><div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js">svg
  <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;text&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">&quot;x&quot;</span><span class="token punctuation">,</span> width <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">&quot;y&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>margin<span class="token punctuation">.</span>top <span class="token operator">/</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">&quot;text-anchor&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;middle&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string">&quot;Brewdog&#x27;s Most Bitter Beers&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">style</span><span class="token punctuation">(</span><span class="token string">&quot;font-size&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;18px&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">style</span><span class="token punctuation">(</span><span class="token string">&quot;font-weight&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;bold&quot;</span><span class="token punctuation">)</span></code></pre></div><p>Setting <code class="language-text">attr(&quot;y&quot;, (margin.top / 3) * 2)</code> will position the text about two-thirds of the way between the top edge of the chart and the top edge of the plot area.</p><p><img src="/xari-dev/ff6c88eac73373620b4da479907ba622/title.svg" alt="Adding a title"/></p><p>Next, we’ll add an X axis label that can tell anyone viewing the chart what those numbers below the axis represent.</p><div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js">svg
  <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;text&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">&quot;text-anchor&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;end&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">&quot;x&quot;</span><span class="token punctuation">,</span> margin<span class="token punctuation">.</span>left <span class="token operator">+</span> plotWidth <span class="token operator">+</span> <span class="token number">25</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">&quot;y&quot;</span><span class="token punctuation">,</span> margin<span class="token punctuation">.</span>top <span class="token operator">+</span> plotHeight <span class="token operator">+</span> <span class="token number">25</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string">&quot;IBU&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">style</span><span class="token punctuation">(</span><span class="token string">&quot;font-size&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;14px&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">style</span><span class="token punctuation">(</span><span class="token string">&quot;font-weight&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;bold&quot;</span><span class="token punctuation">)</span></code></pre></div><p><img src="/xari-dev/0e7fbadba22c925bffd7dcc2217659ca/label.svg" alt="Adding an X axis label"/></p><h2>Using a scale to plot the Y axis</h2><p><code class="language-text">axisBottom()</code> returns a number of methods that can be used to customize the axis.
These are shown below, and later-on we’ll use the <code class="language-text">tickSize</code> method to remove the ticks from the Y axis.</p><div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token punctuation">[</span>Function<span class="token operator">:</span> axis<span class="token punctuation">]</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">scale</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">Function</span> <span class="token punctuation">(</span>anonymous<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">ticks</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">Function</span> <span class="token punctuation">(</span>anonymous<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">tickArguments</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">Function</span> <span class="token punctuation">(</span>anonymous<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">tickValues</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">Function</span> <span class="token punctuation">(</span>anonymous<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">tickFormat</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">Function</span> <span class="token punctuation">(</span>anonymous<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">tickSize</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">Function</span> <span class="token punctuation">(</span>anonymous<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">tickSizeInner</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">Function</span> <span class="token punctuation">(</span>anonymous<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">tickSizeOuter</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">Function</span> <span class="token punctuation">(</span>anonymous<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">tickPadding</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">Function</span> <span class="token punctuation">(</span>anonymous<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">offset</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">Function</span> <span class="token punctuation">(</span>anonymous<span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span></code></pre></div><p>We’re now going to use a scale to do the work that was done manually in the previous post on <a href="../d3-scales">binding data to text elements</a>.
In the code below, we’re creating a scale for the Y axis using the names of the beers, and then setting it’s <code class="language-text">range</code> to the plot height.</p><div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> scaleY <span class="token operator">=</span> d3
  <span class="token punctuation">.</span><span class="token function">scaleBand</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> plotHeight<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">domain</span><span class="token punctuation">(</span>ibu<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">x</span> <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token number">0.1</span><span class="token punctuation">)</span> <span class="token comment">// Adds space between the bars</span></code></pre></div><p>Earlier in this post we used <code class="language-text">d3.axisBottom()</code> to generate the X axis.
We’ll now use a similar function, <code class="language-text">axisLeft()</code>, to generate the Y axis.</p><p>Remember; these functions gives us several methods that we can chain to customize the axis.</p><div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token punctuation">[</span>Function<span class="token operator">:</span> axis<span class="token punctuation">]</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">scale</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">Function</span> <span class="token punctuation">(</span>anonymous<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">ticks</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">Function</span> <span class="token punctuation">(</span>anonymous<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">tickArguments</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">Function</span> <span class="token punctuation">(</span>anonymous<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">tickValues</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">Function</span> <span class="token punctuation">(</span>anonymous<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">tickFormat</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">Function</span> <span class="token punctuation">(</span>anonymous<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">tickSize</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">Function</span> <span class="token punctuation">(</span>anonymous<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">tickSizeInner</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">Function</span> <span class="token punctuation">(</span>anonymous<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">tickSizeOuter</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">Function</span> <span class="token punctuation">(</span>anonymous<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">tickPadding</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">Function</span> <span class="token punctuation">(</span>anonymous<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">offset</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">Function</span> <span class="token punctuation">(</span>anonymous<span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span></code></pre></div><p>The <code class="language-text">tickSize()</code> method will let us customize the size of the axis ticks, and setting them to <code class="language-text">0</code> will remove them from the axis.</p><div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> axisY <span class="token operator">=</span> svg
  <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;g&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>d3<span class="token punctuation">.</span><span class="token function">axisLeft</span><span class="token punctuation">(</span>scaleY<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">tickSize</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">&quot;transform&quot;</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">translate(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>margin<span class="token punctuation">.</span>left<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>margin<span class="token punctuation">.</span>top<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">style</span><span class="token punctuation">(</span><span class="token string">&quot;font-size&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;12px&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">style</span><span class="token punctuation">(</span><span class="token string">&quot;font-weight&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;light&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">style</span><span class="token punctuation">(</span><span class="token string">&quot;fill&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;#000&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">style</span><span class="token punctuation">(</span><span class="token string">&quot;stroke&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;none&quot;</span><span class="token punctuation">)</span></code></pre></div><p><img src="/xari-dev/a0127edf4027046c1bb9e4b4e7df9973/y_axis.svg" alt="Y axis"/></p><p>We’re almost ready to plot our data, but before we do that, we’ll need to remove the blue plot outline placeholder from our chart.</p><h2>Removing selections from a chart</h2><p><code class="language-text">documentOutline</code> is a D3 <code class="language-text">Selection</code> object, and we can use this variable later-on to select and remove the element when that time comes.</p><div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js">documentOutline <span class="token comment">// Selection { _groups: [ [ [SVGElement] ] ], _parents: [ null ] }</span></code></pre></div><p>Before we can plot the data, we’ll need to remove that blue <code class="language-text">&lt;rect/&gt;</code> that we created to indicate where the plot would go.
We can remove that element, along with the think black border around the chart by selecting them (<code class="language-text">documentOutline</code> and <code class="language-text">plotOutline</code>) and calling <code class="language-text">remove()</code> on each.</p><div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js">documentOutline<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
plotOutline<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></div><p>This works because these variables refer to D3 Selection objects.
Selection objects refert to DOM elements, and whenever we create a new DOM element in D3, the function that we use to create it (i.e. <code class="language-text">svg.append(&quot;rect&quot;)</code>) will return a Selection object that is bound to the element that we just created.</p><p><img src="/xari-dev/537eb278d6810f7c578de069d4957540/axes.svg" alt="Chart without data"/></p><p>While we’re at it, let’s also remove the Y axis domain line.
This can be done by selecting the Y axis (<code class="language-text">axisY</code>), and calling an anonymous function that removes whatever <code class="language-text">.domain</code> element happens to be nested inside of <code class="language-text">axisY</code>.</p><div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token function">axisY</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token parameter">g</span> <span class="token operator">=&gt;</span> g<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">&quot;.domain&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre></div><p>The horizonal bars that we’re going to plot each have a black border, so the Y axis domain line <em>isn’t</em> necessary, and I think the chart will look better without it.</p><p><img src="/xari-dev/e3a2e5f77a56d8c2f9c102d38d6270ac/remove_domain.svg" alt="Removing the Y axis domain line"/></p><h2>Plotting the data</h2><p>This next step was covered in-depth in <a href="../d3-scales">the post that introduced D3 scales</a>.
But to briefly review what’s happening below, we’re using the X and Y axis scales to set the width and height of each horizontal bar.</p><p>The code below creates and positions a new <code class="language-text">&lt;group/&gt;</code> element that contains the bars, but without specifying the <code class="language-text">width</code> and <code class="language-text">height</code> attribute of each bar, we won’t actually see the bars yet.</p><div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> bars <span class="token operator">=</span> svg
  <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;g&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">&quot;transform&quot;</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">translate(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>margin<span class="token punctuation">.</span>left<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>margin<span class="token punctuation">.</span>top<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">selectAll</span><span class="token punctuation">(</span><span class="token string">&quot;rect&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span>ibu<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&quot;rect&quot;</span><span class="token punctuation">)</span></code></pre></div><p>The code above will add those elements to the document, but we won’t actually see them unless we give them each a <code class="language-text">width</code> and a <code class="language-text">height</code>.</p><div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js">bars<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">&quot;width&quot;</span><span class="token punctuation">,</span> <span class="token parameter">data</span> <span class="token operator">=&gt;</span> <span class="token function">scaleX</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre></div><p><code class="language-text">selection.attr()</code> can accept an anonymous function as it’s second argument.
This function will be run once for each item in the bound data set (<code class="language-text">ibu</code>, in this case).
The function’s argument (<code class="language-text">data</code>) is an item of the bound data.<br/>
<!-- -->Think of this as a mapping function that will calculate the width of each bar from the data set’s values.</p><div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js">bars<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">&quot;height&quot;</span><span class="token punctuation">,</span> scaleY<span class="token punctuation">.</span><span class="token function">bandwidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre></div><p>We’re also using another scale method (<code class="language-text">bandwidth()</code>) to calculate the height of each bar.<br/>
<code class="language-text">scaleY.bandwidth()</code> returns the number <code class="language-text">17.910447761194032</code>, which is the <code class="language-text">plotHeight</code> divided by the number of items in the dataset —but also accounting for the <code class="language-text">0.1</code> of padding that we specified when we created the Y axis scale!
Imagine having to account for that level of detail without the help of D3.</p><p><img src="/xari-dev/317c988bb37257d9d465384b7f185f3b/un_positioned.svg" alt="Un-positioned bars"/></p><p>Specifying the width and height of the rectangles will make them visible to us, but we quickly see that isn’t all it’s going to take.</p><h2>Positioning the bars</h2><p>By default, each bar has the x and y positions of <code class="language-text">[0, 0]</code>, which leaves them appearing on-top of each other.
We can show this behavior more clearly by styling the bars, shown below:</p><div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js">bars<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">&quot;fill&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;#00AFDB&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">style</span><span class="token punctuation">(</span><span class="token string">&quot;stroke&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;#000&quot;</span><span class="token punctuation">)</span></code></pre></div><blockquote><p>“There you are! — D3 Mystery Gang</p></blockquote><p><img src="/xari-dev/8a48034e8c825d22a6d8364dd143297b/styled.svg" alt="Styled"/></p><blockquote><p>“And we would’ve gotten away with it too, if it weren’t for you meddling D3 kids!” — Bars</p></blockquote><p>Positioning those bars is a breeze, thanks to <code class="language-text">scaleY()</code>.
Just plug in <code class="language-text">data.name</code>, and that’s it!
It will return a calculated Y position for each bar.</p><div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js">bars<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">&quot;y&quot;</span><span class="token punctuation">,</span> <span class="token parameter">data</span> <span class="token operator">=&gt;</span> <span class="token function">scaleY</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre></div><p>You can see a log of the calculated Y positions below:</p><div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">1.990049751243788
21.8905472636816
41.79104477611941
61.69154228855723
81.59203980099504
101.49253731343285
121.39303482587067
141.29353233830847
161.1940298507463
181.0945273631841
200.9950248756219
220.89552238805973
240.79601990049755
260.69651741293535
280.5970149253732
300.497512437811
320.3980099502488
340.29850746268664
360.19900497512447
380.0995024875622</code></pre></div><p><img src="/xari-dev/91e0931402bcdcec6f714af6d47f3a3b/positioned-y.svg" alt="Positioned Y"/></p><h2>Offsetting the <code class="language-text">x</code> domain</h2><p>We’re <em>almost</em> done…
There’s just one pesky little detail to take care of.
You may have not even noticed it, so let’s take a closer look.</p><p><img src="/xari-dev/a9c03186ae385e85f7ffa7af11768515/zoom.gif" alt="Zoom"/></p><p>The circle above outlines the domain origins of the X and Y axis.
We removed the Y axis domain line earlier in this post to create a stylized look for the chart.
The black left stroke of each bar now replaces the single Y axis domain line, but as we can see in the outline above, the bars are mis-aligned by half a pixel.</p><p>We can clear that up by setting the <code class="language-text">x</code> property of the whole bar group to <code class="language-text">0.5</code>.</p><div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js">bars<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">&quot;x&quot;</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span></code></pre></div><p><img src="/xari-dev/9e412c89b8ee68812310d97d9c5baa90/bars.svg" alt="Completed chart"/></p><blockquote><p>“Much better.”</p></blockquote><p>We can see the entire code for the horizontal bars below.</p><div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js">svg
  <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;g&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">&quot;transform&quot;</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">translate(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>margin<span class="token punctuation">.</span>left<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>margin<span class="token punctuation">.</span>top<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">selectAll</span><span class="token punctuation">(</span><span class="token string">&quot;rect&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span>ibu<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&quot;rect&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">&quot;width&quot;</span><span class="token punctuation">,</span> <span class="token parameter">data</span> <span class="token operator">=&gt;</span> <span class="token function">scaleX</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">&quot;height&quot;</span><span class="token punctuation">,</span> scaleY<span class="token punctuation">.</span><span class="token function">bandwidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">&quot;y&quot;</span><span class="token punctuation">,</span> <span class="token parameter">data</span> <span class="token operator">=&gt;</span> <span class="token function">scaleY</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">&quot;x&quot;</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">&quot;fill&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;#00AFDB&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">style</span><span class="token punctuation">(</span><span class="token string">&quot;stroke&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;#000&quot;</span><span class="token punctuation">)</span></code></pre></div><p>And there we have it.
A beautiful and informative chart that shows us the IBU of Brewdog’s most bitter beers.</p><p>Did you notice that the most bitter beer, “Tactical Nuclear Penguin”, has an IBU of almost 1200?
I couldn’t believe it at first, and assumed it must have been an error in the data.
I looked it up though, and found this hilarious video about how that beer came to be.
It turns out that the alcohol content of that beer is an alarming 32%! 😅</p><div class="max-w-3xl"><div class="gatsby-resp-iframe-wrapper" style="padding-bottom:56.25%;position:relative;height:0;overflow:hidden;margin-bottom:1.0725rem"> <iframe title="vimeo-player" src="https://player.vimeo.com/video/7812379?h=1c9cd7ede5" frameBorder="0" allowfullscreen="" style="position:absolute;top:0;left:0;width:100%;height:100%"></iframe> </div></div></section><footer><div class="group leading-6 flex items-center space-x-3 sm:space-x-4 mb-10"><div data-gatsby-image-wrapper="" style="position:relative;overflow:hidden;width:50px;height:50px" class="gatsby-image-wrapper rounded-full"><div aria-hidden="true" data-placeholder-image="" style="height:100%;left:0;position:absolute;top:0;width:100%"></div><picture><source type="image/webp" data-srcset="/xari-dev/static/34e297c0cc8a085f2731382507d8b4f4/dbc4a/xari.webp 50w,/xari-dev/static/34e297c0cc8a085f2731382507d8b4f4/d8057/xari.webp 100w" sizes="50px"/><img data-gatsby-image-ssr="" data-main-image="" style="height:100%;left:0;position:absolute;top:0;transform:translateZ(0);transition:opacity 250ms linear;width:100%;will-change:opacity;opacity:0" sizes="50px" decoding="async" loading="lazy" data-src="/xari-dev/static/34e297c0cc8a085f2731382507d8b4f4/6ac16/xari.jpg" data-srcset="/xari-dev/static/34e297c0cc8a085f2731382507d8b4f4/6ac16/xari.jpg 50w,/xari-dev/static/34e297c0cc8a085f2731382507d8b4f4/e07e1/xari.jpg 100w" alt="Mostly programming"/></picture><noscript><picture><source type="image/webp" srcSet="/xari-dev/static/34e297c0cc8a085f2731382507d8b4f4/dbc4a/xari.webp 50w,/xari-dev/static/34e297c0cc8a085f2731382507d8b4f4/d8057/xari.webp 100w" sizes="50px"/><img data-gatsby-image-ssr="" data-main-image="" style="height:100%;left:0;position:absolute;top:0;transform:translateZ(0);transition:opacity 250ms linear;width:100%;will-change:opacity;opacity:0" sizes="50px" decoding="async" loading="lazy" src="/xari-dev/static/34e297c0cc8a085f2731382507d8b4f4/6ac16/xari.jpg" srcSet="/xari-dev/static/34e297c0cc8a085f2731382507d8b4f4/6ac16/xari.jpg 50w,/xari-dev/static/34e297c0cc8a085f2731382507d8b4f4/e07e1/xari.jpg 100w" alt="Mostly programming"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1)}}</script></div><p><strong>Mostly programming</strong><br/><small>(._.)</small></p></div></footer></article><nav class="max-w-2xl"><ul style="display:flex;flex-wrap:wrap;justify-content:space-between;list-style:none;padding:0"><li><a rel="prev" href="/xari-dev/d3-scales/">← <!-- -->D3 Scales</a></li><li><a rel="next" href="/xari-dev/async-recursion/">Querying the NPM Package Registry API<!-- --> →</a></li></ul></nav></main><footer>© <!-- -->2023</footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/horizontal-bar-plot/";window.___webpackCompilationHash="f123cd3bcfe3c0eaf063";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-c8f55184fd83c8ab8ee2.js"],"app":["/app-cd3f71a3d8c77415ad01.js"],"component---src-pages-404-js":["/component---src-pages-404-js-1a166a1a011a1222e6a9.js"],"component---src-pages-index-js":["/component---src-pages-index-js-5eb50402b4b24cec5891.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-0545cce77b0cf10a5b3a.js"]};/*]]>*/</script><script src="/xari-dev/polyfill-c8f55184fd83c8ab8ee2.js" nomodule=""></script><script src="/xari-dev/component---src-templates-blog-post-js-0545cce77b0cf10a5b3a.js" async=""></script><script src="/xari-dev/cd7d5f864fc9e15ed8adef086269b0aeff617554-e7e717af7ac4907af484.js" async=""></script><script src="/xari-dev/commons-020ed7793b3c09aeb0f6.js" async=""></script><script src="/xari-dev/app-cd3f71a3d8c77415ad01.js" async=""></script><script src="/xari-dev/dc6a8720040df98778fe970bf6c000a41750d3ae-caa2bca955599c9b1b03.js" async=""></script><script src="/xari-dev/89ce22b1-8a434d16af35682e2e68.js" async=""></script><script src="/xari-dev/framework-b782686806907140249c.js" async=""></script><script src="/xari-dev/webpack-runtime-4d727c66955a014f899f.js" async=""></script></body></html>